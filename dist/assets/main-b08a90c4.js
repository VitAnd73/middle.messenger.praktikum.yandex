var Xt=Object.defineProperty;var $t=(t,e,r)=>e in t?Xt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var P=(t,e,r)=>($t(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function er(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Oe={exports:{}},xe={exports:{}},B={},A={};A.__esModule=!0;A.extend=xt;A.indexOf=ir;A.escapeExpression=ar;A.isEmpty=or;A.createFrame=lr;A.blockParams=ur;A.appendContextPath=cr;var tr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},rr=/[&<>"'`=]/g,nr=/[&<>"'`=]/;function sr(t){return tr[t]}function xt(t){for(var e=1;e<arguments.length;e++)for(var r in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],r)&&(t[r]=arguments[e][r]);return t}var et=Object.prototype.toString;A.toString=et;var Me=function(e){return typeof e=="function"};Me(/x/)&&(A.isFunction=Me=function(t){return typeof t=="function"&&et.call(t)==="[object Function]"});A.isFunction=Me;var Mt=Array.isArray||function(t){return t&&typeof t=="object"?et.call(t)==="[object Array]":!1};A.isArray=Mt;function ir(t,e){for(var r=0,o=t.length;r<o;r++)if(t[r]===e)return r;return-1}function ar(t){if(typeof t!="string"){if(t&&t.toHTML)return t.toHTML();if(t==null)return"";if(!t)return t+"";t=""+t}return nr.test(t)?t.replace(rr,sr):t}function or(t){return!t&&t!==0?!0:!!(Mt(t)&&t.length===0)}function lr(t){var e=xt({},t);return e._parent=t,e}function ur(t,e){return t.path=e,t}function cr(t,e){return(t?t+".":"")+e}var Ie={exports:{}};(function(t,e){e.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function o(l,c){var d=c&&c.loc,a=void 0,s=void 0,h=void 0,u=void 0;d&&(a=d.start.line,s=d.end.line,h=d.start.column,u=d.end.column,l+=" - "+a+":"+h);for(var f=Error.prototype.constructor.call(this,l),n=0;n<r.length;n++)this[r[n]]=f[r[n]];Error.captureStackTrace&&Error.captureStackTrace(this,o);try{d&&(this.lineNumber=a,this.endLineNumber=s,Object.defineProperty?(Object.defineProperty(this,"column",{value:h,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:u,enumerable:!0})):(this.column=h,this.endColumn=u))}catch{}}o.prototype=new Error,e.default=o,t.exports=e.default})(Ie,Ie.exports);var T=Ie.exports,oe={},Ne={exports:{}};(function(t,e){e.__esModule=!0;var r=A;e.default=function(o){o.registerHelper("blockHelperMissing",function(l,c){var d=c.inverse,a=c.fn;if(l===!0)return a(this);if(l===!1||l==null)return d(this);if(r.isArray(l))return l.length>0?(c.ids&&(c.ids=[c.name]),o.helpers.each(l,c)):d(this);if(c.data&&c.ids){var s=r.createFrame(c.data);s.contextPath=r.appendContextPath(c.data.contextPath,c.name),c={data:s}}return a(l,c)})},t.exports=e.default})(Ne,Ne.exports);var hr=Ne.exports,Re={exports:{}};(function(t,e){e.__esModule=!0;function r(d){return d&&d.__esModule?d:{default:d}}var o=A,l=T,c=r(l);e.default=function(d){d.registerHelper("each",function(a,s){if(!s)throw new c.default("Must pass iterator to #each");var h=s.fn,u=s.inverse,f=0,n="",p=void 0,i=void 0;s.data&&s.ids&&(i=o.appendContextPath(s.data.contextPath,s.ids[0])+"."),o.isFunction(a)&&(a=a.call(this)),s.data&&(p=o.createFrame(s.data));function g(m,S,w){p&&(p.key=m,p.index=S,p.first=S===0,p.last=!!w,i&&(p.contextPath=i+m)),n=n+h(a[m],{data:p,blockParams:o.blockParams([a[m],m],[i+m,null])})}if(a&&typeof a=="object")if(o.isArray(a))for(var v=a.length;f<v;f++)f in a&&g(f,f,f===a.length-1);else if(typeof Symbol=="function"&&a[Symbol.iterator]){for(var C=[],_=a[Symbol.iterator](),y=_.next();!y.done;y=_.next())C.push(y.value);a=C;for(var v=a.length;f<v;f++)g(f,f,f===a.length-1)}else(function(){var m=void 0;Object.keys(a).forEach(function(S){m!==void 0&&g(m,f-1),m=S,f++}),m!==void 0&&g(m,f-1,!0)})();return f===0&&(n=u(this)),n})},t.exports=e.default})(Re,Re.exports);var pr=Re.exports,De={exports:{}};(function(t,e){e.__esModule=!0;function r(c){return c&&c.__esModule?c:{default:c}}var o=T,l=r(o);e.default=function(c){c.registerHelper("helperMissing",function(){if(arguments.length!==1)throw new l.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default})(De,De.exports);var dr=De.exports,Be={exports:{}};(function(t,e){e.__esModule=!0;function r(d){return d&&d.__esModule?d:{default:d}}var o=A,l=T,c=r(l);e.default=function(d){d.registerHelper("if",function(a,s){if(arguments.length!=2)throw new c.default("#if requires exactly one argument");return o.isFunction(a)&&(a=a.call(this)),!s.hash.includeZero&&!a||o.isEmpty(a)?s.inverse(this):s.fn(this)}),d.registerHelper("unless",function(a,s){if(arguments.length!=2)throw new c.default("#unless requires exactly one argument");return d.helpers.if.call(this,a,{fn:s.inverse,inverse:s.fn,hash:s.hash})})},t.exports=e.default})(Be,Be.exports);var fr=Be.exports,Fe={exports:{}};(function(t,e){e.__esModule=!0,e.default=function(r){r.registerHelper("log",function(){for(var o=[void 0],l=arguments[arguments.length-1],c=0;c<arguments.length-1;c++)o.push(arguments[c]);var d=1;l.hash.level!=null?d=l.hash.level:l.data&&l.data.level!=null&&(d=l.data.level),o[0]=d,r.log.apply(r,o)})},t.exports=e.default})(Fe,Fe.exports);var gr=Fe.exports,Te={exports:{}};(function(t,e){e.__esModule=!0,e.default=function(r){r.registerHelper("lookup",function(o,l,c){return o&&c.lookupProperty(o,l)})},t.exports=e.default})(Te,Te.exports);var mr=Te.exports,Ue={exports:{}};(function(t,e){e.__esModule=!0;function r(d){return d&&d.__esModule?d:{default:d}}var o=A,l=T,c=r(l);e.default=function(d){d.registerHelper("with",function(a,s){if(arguments.length!=2)throw new c.default("#with requires exactly one argument");o.isFunction(a)&&(a=a.call(this));var h=s.fn;if(o.isEmpty(a))return s.inverse(this);var u=s.data;return s.data&&s.ids&&(u=o.createFrame(s.data),u.contextPath=o.appendContextPath(s.data.contextPath,s.ids[0])),h(a,{data:u,blockParams:o.blockParams([a],[u&&u.contextPath])})})},t.exports=e.default})(Ue,Ue.exports);var vr=Ue.exports;oe.__esModule=!0;oe.registerDefaultHelpers=Ir;oe.moveHelperToHooks=Nr;function j(t){return t&&t.__esModule?t:{default:t}}var _r=hr,Sr=j(_r),Cr=pr,yr=j(Cr),kr=dr,wr=j(kr),br=fr,Pr=j(br),Er=gr,Lr=j(Er),Ar=mr,Or=j(Ar),xr=vr,Mr=j(xr);function Ir(t){Sr.default(t),yr.default(t),wr.default(t),Pr.default(t),Lr.default(t),Or.default(t),Mr.default(t)}function Nr(t,e,r){t.helpers[e]&&(t.hooks[e]=t.helpers[e],r||delete t.helpers[e])}var tt={},He={exports:{}};(function(t,e){e.__esModule=!0;var r=A;e.default=function(o){o.registerDecorator("inline",function(l,c,d,a){var s=l;return c.partials||(c.partials={},s=function(h,u){var f=d.partials;d.partials=r.extend({},f,c.partials);var n=l(h,u);return d.partials=f,n}),c.partials[a.args[0]]=a.fn,s})},t.exports=e.default})(He,He.exports);var Rr=He.exports;tt.__esModule=!0;tt.registerDefaultDecorators=Tr;function Dr(t){return t&&t.__esModule?t:{default:t}}var Br=Rr,Fr=Dr(Br);function Tr(t){Fr.default(t)}var Ve={exports:{}};(function(t,e){e.__esModule=!0;var r=A,o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(c){if(typeof c=="string"){var d=r.indexOf(o.methodMap,c.toLowerCase());d>=0?c=d:c=parseInt(c,10)}return c},log:function(c){if(c=o.lookupLevel(c),typeof console<"u"&&o.lookupLevel(o.level)<=c){var d=o.methodMap[c];console[d]||(d="log");for(var a=arguments.length,s=Array(a>1?a-1:0),h=1;h<a;h++)s[h-1]=arguments[h];console[d].apply(console,s)}}};e.default=o,t.exports=e.default})(Ve,Ve.exports);var It=Ve.exports,$={},rt={};rt.__esModule=!0;rt.createNewLookupObject=Hr;var Ur=A;function Hr(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return Ur.extend.apply(void 0,[Object.create(null)].concat(e))}$.__esModule=!0;$.createProtoAccessControl=Wr;$.resultIsAllowed=jr;$.resetLoggedProperties=Kr;function Vr(t){return t&&t.__esModule?t:{default:t}}var ut=rt,qr=It,Gr=Vr(qr),ge=Object.create(null);function Wr(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var r=Object.create(null);return r.__proto__=!1,{properties:{whitelist:ut.createNewLookupObject(r,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:ut.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}}function jr(t,e,r){return ct(typeof t=="function"?e.methods:e.properties,r)}function ct(t,e){return t.whitelist[e]!==void 0?t.whitelist[e]===!0:t.defaultValue!==void 0?t.defaultValue:(zr(e),!1)}function zr(t){ge[t]!==!0&&(ge[t]=!0,Gr.default.log("error",'Handlebars: Access has been denied to resolve the property "'+t+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}function Kr(){Object.keys(ge).forEach(function(t){delete ge[t]})}B.__esModule=!0;B.HandlebarsEnvironment=qe;function Nt(t){return t&&t.__esModule?t:{default:t}}var W=A,Zr=T,Ce=Nt(Zr),Jr=oe,Qr=tt,Yr=It,me=Nt(Yr),Xr=$,$r="4.7.8";B.VERSION=$r;var en=8;B.COMPILER_REVISION=en;var tn=7;B.LAST_COMPATIBLE_COMPILER_REVISION=tn;var rn={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};B.REVISION_CHANGES=rn;var ye="[object Object]";function qe(t,e,r){this.helpers=t||{},this.partials=e||{},this.decorators=r||{},Jr.registerDefaultHelpers(this),Qr.registerDefaultDecorators(this)}qe.prototype={constructor:qe,logger:me.default,log:me.default.log,registerHelper:function(e,r){if(W.toString.call(e)===ye){if(r)throw new Ce.default("Arg not supported with multiple helpers");W.extend(this.helpers,e)}else this.helpers[e]=r},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,r){if(W.toString.call(e)===ye)W.extend(this.partials,e);else{if(typeof r>"u")throw new Ce.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=r}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,r){if(W.toString.call(e)===ye){if(r)throw new Ce.default("Arg not supported with multiple decorators");W.extend(this.decorators,e)}else this.decorators[e]=r},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){Xr.resetLoggedProperties()}};var nn=me.default.log;B.log=nn;B.createFrame=W.createFrame;B.logger=me.default;var Ge={exports:{}};(function(t,e){e.__esModule=!0;function r(o){this.string=o}r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},e.default=r,t.exports=e.default})(Ge,Ge.exports);var sn=Ge.exports,G={},nt={};nt.__esModule=!0;nt.wrapHelper=an;function an(t,e){if(typeof t!="function")return t;var r=function(){var l=arguments[arguments.length-1];return arguments[arguments.length-1]=e(l),t.apply(this,arguments)};return r}G.__esModule=!0;G.checkRevision=pn;G.template=dn;G.wrapProgram=de;G.resolvePartial=fn;G.invokePartial=gn;G.noop=Rt;function on(t){return t&&t.__esModule?t:{default:t}}function ln(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var un=A,U=ln(un),cn=T,H=on(cn),V=B,ht=oe,hn=nt,pt=$;function pn(t){var e=t&&t[0]||1,r=V.COMPILER_REVISION;if(!(e>=V.LAST_COMPATIBLE_COMPILER_REVISION&&e<=V.COMPILER_REVISION))if(e<V.LAST_COMPATIBLE_COMPILER_REVISION){var o=V.REVISION_CHANGES[r],l=V.REVISION_CHANGES[e];throw new H.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+o+") or downgrade your runtime to an older version ("+l+").")}else throw new H.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}function dn(t,e){if(!e)throw new H.default("No environment passed to template");if(!t||!t.main)throw new H.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var r=t.compiler&&t.compiler[0]===7;function o(d,a,s){s.hash&&(a=U.extend({},a,s.hash),s.ids&&(s.ids[0]=!0)),d=e.VM.resolvePartial.call(this,d,a,s);var h=U.extend({},s,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),u=e.VM.invokePartial.call(this,d,a,h);if(u==null&&e.compile&&(s.partials[s.name]=e.compile(d,t.compilerOptions,e),u=s.partials[s.name](a,h)),u!=null){if(s.indent){for(var f=u.split(`
`),n=0,p=f.length;n<p&&!(!f[n]&&n+1===p);n++)f[n]=s.indent+f[n];u=f.join(`
`)}return u}else throw new H.default("The partial "+s.name+" could not be compiled when running in runtime-only mode")}var l={strict:function(a,s,h){if(!a||!(s in a))throw new H.default('"'+s+'" not defined in '+a,{loc:h});return l.lookupProperty(a,s)},lookupProperty:function(a,s){var h=a[s];if(h==null||Object.prototype.hasOwnProperty.call(a,s)||pt.resultIsAllowed(h,l.protoAccessControl,s))return h},lookup:function(a,s){for(var h=a.length,u=0;u<h;u++){var f=a[u]&&l.lookupProperty(a[u],s);if(f!=null)return a[u][s]}},lambda:function(a,s){return typeof a=="function"?a.call(s):a},escapeExpression:U.escapeExpression,invokePartial:o,fn:function(a){var s=t[a];return s.decorator=t[a+"_d"],s},programs:[],program:function(a,s,h,u,f){var n=this.programs[a],p=this.fn(a);return s||f||u||h?n=de(this,a,p,s,h,u,f):n||(n=this.programs[a]=de(this,a,p)),n},data:function(a,s){for(;a&&s--;)a=a._parent;return a},mergeIfNeeded:function(a,s){var h=a||s;return a&&s&&a!==s&&(h=U.extend({},s,a)),h},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function c(d){var a=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],s=a.data;c._setup(a),!a.partial&&t.useData&&(s=mn(d,s));var h=void 0,u=t.useBlockParams?[]:void 0;t.useDepths&&(a.depths?h=d!=a.depths[0]?[d].concat(a.depths):a.depths:h=[d]);function f(n){return""+t.main(l,n,l.helpers,l.partials,s,u,h)}return f=Dt(t.main,f,l,a.depths||[],s,u),f(d,a)}return c.isTop=!0,c._setup=function(d){if(d.partial)l.protoAccessControl=d.protoAccessControl,l.helpers=d.helpers,l.partials=d.partials,l.decorators=d.decorators,l.hooks=d.hooks;else{var a=U.extend({},e.helpers,d.helpers);vn(a,l),l.helpers=a,t.usePartial&&(l.partials=l.mergeIfNeeded(d.partials,e.partials)),(t.usePartial||t.useDecorators)&&(l.decorators=U.extend({},e.decorators,d.decorators)),l.hooks={},l.protoAccessControl=pt.createProtoAccessControl(d);var s=d.allowCallsToHelperMissing||r;ht.moveHelperToHooks(l,"helperMissing",s),ht.moveHelperToHooks(l,"blockHelperMissing",s)}},c._child=function(d,a,s,h){if(t.useBlockParams&&!s)throw new H.default("must pass block params");if(t.useDepths&&!h)throw new H.default("must pass parent depths");return de(l,d,t[d],a,0,s,h)},c}function de(t,e,r,o,l,c,d){function a(s){var h=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],u=d;return d&&s!=d[0]&&!(s===t.nullContext&&d[0]===null)&&(u=[s].concat(d)),r(t,s,t.helpers,t.partials,h.data||o,c&&[h.blockParams].concat(c),u)}return a=Dt(r,a,t,d,o,c),a.program=e,a.depth=d?d.length:0,a.blockParams=l||0,a}function fn(t,e,r){return t?!t.call&&!r.name&&(r.name=t,t=r.partials[t]):r.name==="@partial-block"?t=r.data["partial-block"]:t=r.partials[r.name],t}function gn(t,e,r){var o=r.data&&r.data["partial-block"];r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var l=void 0;if(r.fn&&r.fn!==Rt&&function(){r.data=V.createFrame(r.data);var c=r.fn;l=r.data["partial-block"]=function(a){var s=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return s.data=V.createFrame(s.data),s.data["partial-block"]=o,c(a,s)},c.partials&&(r.partials=U.extend({},r.partials,c.partials))}(),t===void 0&&l&&(t=l),t===void 0)throw new H.default("The partial "+r.name+" could not be found");if(t instanceof Function)return t(e,r)}function Rt(){return""}function mn(t,e){return(!e||!("root"in e))&&(e=e?V.createFrame(e):{},e.root=t),e}function Dt(t,e,r,o,l,c){if(t.decorator){var d={};e=t.decorator(e,d,r,o&&o[0],l,c,o),U.extend(e,d)}return e}function vn(t,e){Object.keys(t).forEach(function(r){var o=t[r];t[r]=_n(o,e)})}function _n(t,e){var r=e.lookupProperty;return hn.wrapHelper(t,function(o){return U.extend({lookupProperty:r},o)})}var We={exports:{}};(function(t,e){e.__esModule=!0,e.default=function(r){(function(){typeof globalThis!="object"&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var o=globalThis.Handlebars;r.noConflict=function(){return globalThis.Handlebars===r&&(globalThis.Handlebars=o),r}},t.exports=e.default})(We,We.exports);var Bt=We.exports;(function(t,e){e.__esModule=!0;function r(_){return _&&_.__esModule?_:{default:_}}function o(_){if(_&&_.__esModule)return _;var y={};if(_!=null)for(var m in _)Object.prototype.hasOwnProperty.call(_,m)&&(y[m]=_[m]);return y.default=_,y}var l=B,c=o(l),d=sn,a=r(d),s=T,h=r(s),u=A,f=o(u),n=G,p=o(n),i=Bt,g=r(i);function v(){var _=new c.HandlebarsEnvironment;return f.extend(_,c),_.SafeString=a.default,_.Exception=h.default,_.Utils=f,_.escapeExpression=f.escapeExpression,_.VM=p,_.template=function(y){return p.template(y,_)},_}var C=v();C.create=v,g.default(C),C.default=C,e.default=C,t.exports=e.default})(xe,xe.exports);var Sn=xe.exports,je={exports:{}};(function(t,e){e.__esModule=!0;var r={helpers:{helperExpression:function(l){return l.type==="SubExpression"||(l.type==="MustacheStatement"||l.type==="BlockStatement")&&!!(l.params&&l.params.length||l.hash)},scopedId:function(l){return/^\.|this\b/.test(l.original)},simpleId:function(l){return l.parts.length===1&&!r.helpers.scopedId(l)&&!l.depth}}};e.default=r,t.exports=e.default})(je,je.exports);var Ft=je.exports,le={},ze={exports:{}};(function(t,e){e.__esModule=!0;var r=function(){var o={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(a,s,h,u,f,n,p){var i=n.length-1;switch(f){case 1:return n[i-1];case 2:this.$=u.prepareProgram(n[i]);break;case 3:this.$=n[i];break;case 4:this.$=n[i];break;case 5:this.$=n[i];break;case 6:this.$=n[i];break;case 7:this.$=n[i];break;case 8:this.$=n[i];break;case 9:this.$={type:"CommentStatement",value:u.stripComment(n[i]),strip:u.stripFlags(n[i],n[i]),loc:u.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:n[i],value:n[i],loc:u.locInfo(this._$)};break;case 11:this.$=u.prepareRawBlock(n[i-2],n[i-1],n[i],this._$);break;case 12:this.$={path:n[i-3],params:n[i-2],hash:n[i-1]};break;case 13:this.$=u.prepareBlock(n[i-3],n[i-2],n[i-1],n[i],!1,this._$);break;case 14:this.$=u.prepareBlock(n[i-3],n[i-2],n[i-1],n[i],!0,this._$);break;case 15:this.$={open:n[i-5],path:n[i-4],params:n[i-3],hash:n[i-2],blockParams:n[i-1],strip:u.stripFlags(n[i-5],n[i])};break;case 16:this.$={path:n[i-4],params:n[i-3],hash:n[i-2],blockParams:n[i-1],strip:u.stripFlags(n[i-5],n[i])};break;case 17:this.$={path:n[i-4],params:n[i-3],hash:n[i-2],blockParams:n[i-1],strip:u.stripFlags(n[i-5],n[i])};break;case 18:this.$={strip:u.stripFlags(n[i-1],n[i-1]),program:n[i]};break;case 19:var g=u.prepareBlock(n[i-2],n[i-1],n[i],n[i],!1,this._$),v=u.prepareProgram([g],n[i-1].loc);v.chained=!0,this.$={strip:n[i-2].strip,program:v,chain:!0};break;case 20:this.$=n[i];break;case 21:this.$={path:n[i-1],strip:u.stripFlags(n[i-2],n[i])};break;case 22:this.$=u.prepareMustache(n[i-3],n[i-2],n[i-1],n[i-4],u.stripFlags(n[i-4],n[i]),this._$);break;case 23:this.$=u.prepareMustache(n[i-3],n[i-2],n[i-1],n[i-4],u.stripFlags(n[i-4],n[i]),this._$);break;case 24:this.$={type:"PartialStatement",name:n[i-3],params:n[i-2],hash:n[i-1],indent:"",strip:u.stripFlags(n[i-4],n[i]),loc:u.locInfo(this._$)};break;case 25:this.$=u.preparePartialBlock(n[i-2],n[i-1],n[i],this._$);break;case 26:this.$={path:n[i-3],params:n[i-2],hash:n[i-1],strip:u.stripFlags(n[i-4],n[i])};break;case 27:this.$=n[i];break;case 28:this.$=n[i];break;case 29:this.$={type:"SubExpression",path:n[i-3],params:n[i-2],hash:n[i-1],loc:u.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:n[i],loc:u.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:u.id(n[i-2]),value:n[i],loc:u.locInfo(this._$)};break;case 32:this.$=u.id(n[i-1]);break;case 33:this.$=n[i];break;case 34:this.$=n[i];break;case 35:this.$={type:"StringLiteral",value:n[i],original:n[i],loc:u.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(n[i]),original:Number(n[i]),loc:u.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:n[i]==="true",original:n[i]==="true",loc:u.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:u.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:u.locInfo(this._$)};break;case 40:this.$=n[i];break;case 41:this.$=n[i];break;case 42:this.$=u.preparePath(!0,n[i],this._$);break;case 43:this.$=u.preparePath(!1,n[i],this._$);break;case 44:n[i-2].push({part:u.id(n[i]),original:n[i],separator:n[i-1]}),this.$=n[i-2];break;case 45:this.$=[{part:u.id(n[i]),original:n[i]}];break;case 46:this.$=[];break;case 47:n[i-1].push(n[i]);break;case 48:this.$=[];break;case 49:n[i-1].push(n[i]);break;case 50:this.$=[];break;case 51:n[i-1].push(n[i]);break;case 58:this.$=[];break;case 59:n[i-1].push(n[i]);break;case 64:this.$=[];break;case 65:n[i-1].push(n[i]);break;case 70:this.$=[];break;case 71:n[i-1].push(n[i]);break;case 78:this.$=[];break;case 79:n[i-1].push(n[i]);break;case 82:this.$=[];break;case 83:n[i-1].push(n[i]);break;case 86:this.$=[];break;case 87:n[i-1].push(n[i]);break;case 90:this.$=[];break;case 91:n[i-1].push(n[i]);break;case 94:this.$=[];break;case 95:n[i-1].push(n[i]);break;case 98:this.$=[n[i]];break;case 99:n[i-1].push(n[i]);break;case 100:this.$=[n[i]];break;case 101:n[i-1].push(n[i]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(a,s){throw new Error(a)},parse:function(a){var s=this,h=[0],u=[null],f=[],n=this.table,p="",i=0,g=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var v=this.lexer.yylloc;f.push(v);var C=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function _(){var Q;return Q=s.lexer.lex()||1,typeof Q!="number"&&(Q=s.symbols_[Q]||Q),Q}for(var y,m,S,w,k={},b,O,E,M;;){if(m=h[h.length-1],this.defaultActions[m]?S=this.defaultActions[m]:((y===null||typeof y>"u")&&(y=_()),S=n[m]&&n[m][y]),typeof S>"u"||!S.length||!S[0]){var J="";{M=[];for(b in n[m])this.terminals_[b]&&b>2&&M.push("'"+this.terminals_[b]+"'");this.lexer.showPosition?J="Parse error on line "+(i+1)+`:
`+this.lexer.showPosition()+`
Expecting `+M.join(", ")+", got '"+(this.terminals_[y]||y)+"'":J="Parse error on line "+(i+1)+": Unexpected "+(y==1?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(J,{text:this.lexer.match,token:this.terminals_[y]||y,line:this.lexer.yylineno,loc:v,expected:M})}}if(S[0]instanceof Array&&S.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+y);switch(S[0]){case 1:h.push(y),u.push(this.lexer.yytext),f.push(this.lexer.yylloc),h.push(S[1]),y=null,g=this.lexer.yyleng,p=this.lexer.yytext,i=this.lexer.yylineno,v=this.lexer.yylloc;break;case 2:if(O=this.productions_[S[1]][1],k.$=u[u.length-O],k._$={first_line:f[f.length-(O||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(O||1)].first_column,last_column:f[f.length-1].last_column},C&&(k._$.range=[f[f.length-(O||1)].range[0],f[f.length-1].range[1]]),w=this.performAction.call(k,p,g,i,this.yy,S[1],u,f),typeof w<"u")return w;O&&(h=h.slice(0,-1*O*2),u=u.slice(0,-1*O),f=f.slice(0,-1*O)),h.push(this.productions_[S[1]][0]),u.push(k.$),f.push(k._$),E=n[h[h.length-2]][h[h.length-1]],h.push(E);break;case 3:return!0}}return!0}},l=function(){var d={EOF:1,parseError:function(s,h){if(this.yy.parser)this.yy.parser.parseError(s,h);else throw new Error(s)},setInput:function(s){return this._input=s,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var s=this._input[0];this.yytext+=s,this.yyleng++,this.offset++,this.match+=s,this.matched+=s;var h=s.match(/(?:\r\n?|\n).*/g);return h?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),s},unput:function(s){var h=s.length,u=s.split(/(?:\r\n?|\n)/g);this._input=s+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-h-1),this.offset-=h;var f=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),u.length-1&&(this.yylineno-=u.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:u?(u.length===f.length?this.yylloc.first_column:0)+f[f.length-u.length].length-u[0].length:this.yylloc.first_column-h},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-h]),this},more:function(){return this._more=!0,this},less:function(s){this.unput(this.match.slice(s))},pastInput:function(){var s=this.matched.substr(0,this.matched.length-this.match.length);return(s.length>20?"...":"")+s.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var s=this.match;return s.length<20&&(s+=this._input.substr(0,20-s.length)),(s.substr(0,20)+(s.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var s=this.pastInput(),h=new Array(s.length+1).join("-");return s+this.upcomingInput()+`
`+h+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var s,h,u,f,n;this._more||(this.yytext="",this.match="");for(var p=this._currentRules(),i=0;i<p.length&&(u=this._input.match(this.rules[p[i]]),!(u&&(!h||u[0].length>h[0].length)&&(h=u,f=i,!this.options.flex)));i++);return h?(n=h[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+h[0].length},this.yytext+=h[0],this.match+=h[0],this.matches=h,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(h[0].length),this.matched+=h[0],s=this.performAction.call(this,this.yy,this,p[f],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),s||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var s=this.next();return typeof s<"u"?s:this.lex()},begin:function(s){this.conditionStack.push(s)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(s){this.begin(s)}};return d.options={},d.performAction=function(s,h,u,f){function n(p,i){return h.yytext=h.yytext.substring(p,h.yyleng-i+p)}switch(u){case 0:if(h.yytext.slice(-2)==="\\\\"?(n(0,1),this.begin("mu")):h.yytext.slice(-1)==="\\"?(n(0,1),this.begin("emu")):this.begin("mu"),h.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(n(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(h.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return h.yytext=n(1,2).replace(/\\"/g,'"'),80;case 32:return h.yytext=n(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return h.yytext=h.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},d.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],d.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},d}();o.lexer=l;function c(){this.yy={}}return c.prototype=o,o.Parser=c,new c}();e.default=r,t.exports=e.default})(ze,ze.exports);var Cn=ze.exports,Ke={exports:{}},Ze={exports:{}};(function(t,e){e.__esModule=!0;function r(h){return h&&h.__esModule?h:{default:h}}var o=T,l=r(o);function c(){this.parents=[]}c.prototype={constructor:c,mutating:!1,acceptKey:function(u,f){var n=this.accept(u[f]);if(this.mutating){if(n&&!c.prototype[n.type])throw new l.default('Unexpected node type "'+n.type+'" found when accepting '+f+" on "+u.type);u[f]=n}},acceptRequired:function(u,f){if(this.acceptKey(u,f),!u[f])throw new l.default(u.type+" requires "+f)},acceptArray:function(u){for(var f=0,n=u.length;f<n;f++)this.acceptKey(u,f),u[f]||(u.splice(f,1),f--,n--)},accept:function(u){if(u){if(!this[u.type])throw new l.default("Unknown type: "+u.type,u);this.current&&this.parents.unshift(this.current),this.current=u;var f=this[u.type](u);if(this.current=this.parents.shift(),!this.mutating||f)return f;if(f!==!1)return u}},Program:function(u){this.acceptArray(u.body)},MustacheStatement:d,Decorator:d,BlockStatement:a,DecoratorBlock:a,PartialStatement:s,PartialBlockStatement:function(u){s.call(this,u),this.acceptKey(u,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:d,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(u){this.acceptArray(u.pairs)},HashPair:function(u){this.acceptRequired(u,"value")}};function d(h){this.acceptRequired(h,"path"),this.acceptArray(h.params),this.acceptKey(h,"hash")}function a(h){d.call(this,h),this.acceptKey(h,"program"),this.acceptKey(h,"inverse")}function s(h){this.acceptRequired(h,"name"),this.acceptArray(h.params),this.acceptKey(h,"hash")}e.default=c,t.exports=e.default})(Ze,Ze.exports);var Tt=Ze.exports;(function(t,e){e.__esModule=!0;function r(u){return u&&u.__esModule?u:{default:u}}var o=Tt,l=r(o);function c(){var u=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=u}c.prototype=new l.default,c.prototype.Program=function(u){var f=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var p=u.body,i=0,g=p.length;i<g;i++){var v=p[i],C=this.accept(v);if(C){var _=d(p,i,n),y=a(p,i,n),m=C.openStandalone&&_,S=C.closeStandalone&&y,w=C.inlineStandalone&&_&&y;C.close&&s(p,i,!0),C.open&&h(p,i,!0),f&&w&&(s(p,i),h(p,i)&&v.type==="PartialStatement"&&(v.indent=/([ \t]+$)/.exec(p[i-1].original)[1])),f&&m&&(s((v.program||v.inverse).body),h(p,i)),f&&S&&(s(p,i),h((v.inverse||v.program).body))}}return u},c.prototype.BlockStatement=c.prototype.DecoratorBlock=c.prototype.PartialBlockStatement=function(u){this.accept(u.program),this.accept(u.inverse);var f=u.program||u.inverse,n=u.program&&u.inverse,p=n,i=n;if(n&&n.chained)for(p=n.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var g={open:u.openStrip.open,close:u.closeStrip.close,openStandalone:a(f.body),closeStandalone:d((p||f).body)};if(u.openStrip.close&&s(f.body,null,!0),n){var v=u.inverseStrip;v.open&&h(f.body,null,!0),v.close&&s(p.body,null,!0),u.closeStrip.open&&h(i.body,null,!0),!this.options.ignoreStandalone&&d(f.body)&&a(p.body)&&(h(f.body),s(p.body))}else u.closeStrip.open&&h(f.body,null,!0);return g},c.prototype.Decorator=c.prototype.MustacheStatement=function(u){return u.strip},c.prototype.PartialStatement=c.prototype.CommentStatement=function(u){var f=u.strip||{};return{inlineStandalone:!0,open:f.open,close:f.close}};function d(u,f,n){f===void 0&&(f=u.length);var p=u[f-1],i=u[f-2];if(!p)return n;if(p.type==="ContentStatement")return(i||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(p.original)}function a(u,f,n){f===void 0&&(f=-1);var p=u[f+1],i=u[f+2];if(!p)return n;if(p.type==="ContentStatement")return(i||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(p.original)}function s(u,f,n){var p=u[f==null?0:f+1];if(!(!p||p.type!=="ContentStatement"||!n&&p.rightStripped)){var i=p.value;p.value=p.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),p.rightStripped=p.value!==i}}function h(u,f,n){var p=u[f==null?u.length-1:f-1];if(!(!p||p.type!=="ContentStatement"||!n&&p.leftStripped)){var i=p.value;return p.value=p.value.replace(n?/\s+$/:/[ \t]+$/,""),p.leftStripped=p.value!==i,p.leftStripped}}e.default=c,t.exports=e.default})(Ke,Ke.exports);var yn=Ke.exports,F={};F.__esModule=!0;F.SourceLocation=bn;F.id=Pn;F.stripFlags=En;F.stripComment=Ln;F.preparePath=An;F.prepareMustache=On;F.prepareRawBlock=xn;F.prepareBlock=Mn;F.prepareProgram=In;F.preparePartialBlock=Nn;function kn(t){return t&&t.__esModule?t:{default:t}}var wn=T,st=kn(wn);function it(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var r={loc:t.path.loc};throw new st.default(t.path.original+" doesn't match "+e,r)}}function bn(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function Pn(t){return/^\[.*\]$/.test(t)?t.substring(1,t.length-1):t}function En(t,e){return{open:t.charAt(2)==="~",close:e.charAt(e.length-3)==="~"}}function Ln(t){return t.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function An(t,e,r){r=this.locInfo(r);for(var o=t?"@":"",l=[],c=0,d=0,a=e.length;d<a;d++){var s=e[d].part,h=e[d].original!==s;if(o+=(e[d].separator||"")+s,!h&&(s===".."||s==="."||s==="this")){if(l.length>0)throw new st.default("Invalid path: "+o,{loc:r});s===".."&&c++}else l.push(s)}return{type:"PathExpression",data:t,depth:c,parts:l,original:o,loc:r}}function On(t,e,r,o,l,c){var d=o.charAt(3)||o.charAt(2),a=d!=="{"&&d!=="&",s=/\*/.test(o);return{type:s?"Decorator":"MustacheStatement",path:t,params:e,hash:r,escaped:a,strip:l,loc:this.locInfo(c)}}function xn(t,e,r,o){it(t,r),o=this.locInfo(o);var l={type:"Program",body:e,strip:{},loc:o};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:l,openStrip:{},inverseStrip:{},closeStrip:{},loc:o}}function Mn(t,e,r,o,l,c){o&&o.path&&it(t,o);var d=/\*/.test(t.open);e.blockParams=t.blockParams;var a=void 0,s=void 0;if(r){if(d)throw new st.default("Unexpected inverse block on decorator",r);r.chain&&(r.program.body[0].closeStrip=o.strip),s=r.strip,a=r.program}return l&&(l=a,a=e,e=l),{type:d?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:a,openStrip:t.strip,inverseStrip:s,closeStrip:o&&o.strip,loc:this.locInfo(c)}}function In(t,e){if(!e&&t.length){var r=t[0].loc,o=t[t.length-1].loc;r&&o&&(e={source:r.source,start:{line:r.start.line,column:r.start.column},end:{line:o.end.line,column:o.end.column}})}return{type:"Program",body:t,strip:{},loc:e}}function Nn(t,e,r,o){return it(t,r),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:r&&r.strip,loc:this.locInfo(o)}}le.__esModule=!0;le.parseWithoutProcessing=Ht;le.parse=Vn;function Rn(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Ut(t){return t&&t.__esModule?t:{default:t}}var Dn=Cn,Je=Ut(Dn),Bn=yn,Fn=Ut(Bn),Tn=F,Un=Rn(Tn),Hn=A;le.parser=Je.default;var fe={};Hn.extend(fe,Un);function Ht(t,e){if(t.type==="Program")return t;Je.default.yy=fe,fe.locInfo=function(o){return new fe.SourceLocation(e&&e.srcName,o)};var r=Je.default.parse(t);return r}function Vn(t,e){var r=Ht(t,e),o=new Fn.default(e);return o.accept(r)}var ue={};ue.__esModule=!0;ue.Compiler=Qe;ue.precompile=jn;ue.compile=zn;function Vt(t){return t&&t.__esModule?t:{default:t}}var qn=T,ie=Vt(qn),ae=A,Gn=Ft,te=Vt(Gn),Wn=[].slice;function Qe(){}Qe.prototype={compiler:Qe,equals:function(e){var r=this.opcodes.length;if(e.opcodes.length!==r)return!1;for(var o=0;o<r;o++){var l=this.opcodes[o],c=e.opcodes[o];if(l.opcode!==c.opcode||!qt(l.args,c.args))return!1}r=this.children.length;for(var o=0;o<r;o++)if(!this.children[o].equals(e.children[o]))return!1;return!0},guid:0,compile:function(e,r){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=r,this.stringParams=r.stringParams,this.trackIds=r.trackIds,r.blockParams=r.blockParams||[],r.knownHelpers=ae.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},r.knownHelpers),this.accept(e)},compileProgram:function(e){var r=new this.compiler,o=r.compile(e,this.options),l=this.guid++;return this.usePartial=this.usePartial||o.usePartial,this.children[l]=o,this.useDepths=this.useDepths||o.useDepths,l},accept:function(e){if(!this[e.type])throw new ie.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var r=this[e.type](e);return this.sourceNode.shift(),r},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var r=e.body,o=r.length,l=0;l<o;l++)this.accept(r[l]);return this.options.blockParams.shift(),this.isSimple=o===1,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){dt(e);var r=e.program,o=e.inverse;r=r&&this.compileProgram(r),o=o&&this.compileProgram(o);var l=this.classifySexpr(e);l==="helper"?this.helperSexpr(e,r,o):l==="simple"?(this.simpleSexpr(e),this.opcode("pushProgram",r),this.opcode("pushProgram",o),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,r,o),this.opcode("pushProgram",r),this.opcode("pushProgram",o),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var r=e.program&&this.compileProgram(e.program),o=this.setupFullMustacheParams(e,r,void 0),l=e.path;this.useDecorators=!0,this.opcode("registerDecorator",o.length,l.original)},PartialStatement:function(e){this.usePartial=!0;var r=e.program;r&&(r=this.compileProgram(e.program));var o=e.params;if(o.length>1)throw new ie.default("Unsupported number of partial arguments: "+o.length,e);o.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):o.push({type:"PathExpression",parts:[],depth:0}));var l=e.name.original,c=e.name.type==="SubExpression";c&&this.accept(e.name),this.setupFullMustacheParams(e,r,void 0,!0);var d=e.indent||"";this.options.preventIndent&&d&&(this.opcode("appendContent",d),d=""),this.opcode("invokePartial",c,l,d),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){dt(e);var r=this.classifySexpr(e);r==="simple"?this.simpleSexpr(e):r==="helper"?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,r,o){var l=e.path,c=l.parts[0],d=r!=null||o!=null;this.opcode("getContext",l.depth),this.opcode("pushProgram",r),this.opcode("pushProgram",o),l.strict=!0,this.accept(l),this.opcode("invokeAmbiguous",c,d)},simpleSexpr:function(e){var r=e.path;r.strict=!0,this.accept(r),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,r,o){var l=this.setupFullMustacheParams(e,r,o),c=e.path,d=c.parts[0];if(this.options.knownHelpers[d])this.opcode("invokeKnownHelper",l.length,d);else{if(this.options.knownHelpersOnly)throw new ie.default("You specified knownHelpersOnly, but used the unknown helper "+d,e);c.strict=!0,c.falsy=!0,this.accept(c),this.opcode("invokeHelper",l.length,c.original,te.default.helpers.simpleId(c))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var r=e.parts[0],o=te.default.helpers.scopedId(e),l=!e.depth&&!o&&this.blockParamIndex(r);l?this.opcode("lookupBlockParam",l,e.parts):r?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,o):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var r=e.pairs,o=0,l=r.length;for(this.opcode("pushHash");o<l;o++)this.pushParam(r[o].value);for(;o--;)this.opcode("assignToHash",r[o].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:Wn.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var r=te.default.helpers.simpleId(e.path),o=r&&!!this.blockParamIndex(e.path.parts[0]),l=!o&&te.default.helpers.helperExpression(e),c=!o&&(l||r);if(c&&!l){var d=e.path.parts[0],a=this.options;a.knownHelpers[d]?l=!0:a.knownHelpersOnly&&(c=!1)}return l?"helper":c?"ambiguous":"simple"},pushParams:function(e){for(var r=0,o=e.length;r<o;r++)this.pushParam(e[r])},pushParam:function(e){var r=e.value!=null?e.value:e.original||"";if(this.stringParams)r.replace&&(r=r.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",r,e.type),e.type==="SubExpression"&&this.accept(e);else{if(this.trackIds){var o=void 0;if(e.parts&&!te.default.helpers.scopedId(e)&&!e.depth&&(o=this.blockParamIndex(e.parts[0])),o){var l=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",o,l)}else r=e.original||r,r.replace&&(r=r.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,r)}this.accept(e)}},setupFullMustacheParams:function(e,r,o,l){var c=e.params;return this.pushParams(c),this.opcode("pushProgram",r),this.opcode("pushProgram",o),e.hash?this.accept(e.hash):this.opcode("emptyHash",l),c},blockParamIndex:function(e){for(var r=0,o=this.options.blockParams.length;r<o;r++){var l=this.options.blockParams[r],c=l&&ae.indexOf(l,e);if(l&&c>=0)return[r,c]}}};function jn(t,e,r){if(t==null||typeof t!="string"&&t.type!=="Program")throw new ie.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var o=r.parse(t,e),l=new r.Compiler().compile(o,e);return new r.JavaScriptCompiler().compile(l,e)}function zn(t,e,r){if(e===void 0&&(e={}),t==null||typeof t!="string"&&t.type!=="Program")throw new ie.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);e=ae.extend({},e),"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var o=void 0;function l(){var d=r.parse(t,e),a=new r.Compiler().compile(d,e),s=new r.JavaScriptCompiler().compile(a,e,void 0,!0);return r.template(s)}function c(d,a){return o||(o=l()),o.call(this,d,a)}return c._setup=function(d){return o||(o=l()),o._setup(d)},c._child=function(d,a,s,h){return o||(o=l()),o._child(d,a,s,h)},c}function qt(t,e){if(t===e)return!0;if(ae.isArray(t)&&ae.isArray(e)&&t.length===e.length){for(var r=0;r<t.length;r++)if(!qt(t[r],e[r]))return!1;return!0}}function dt(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var Ye={exports:{}},Xe={exports:{}},re={},ke={},he={},pe={},ft;function Kn(){if(ft)return pe;ft=1;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return pe.encode=function(e){if(0<=e&&e<t.length)return t[e];throw new TypeError("Must be between 0 and 63: "+e)},pe.decode=function(e){var r=65,o=90,l=97,c=122,d=48,a=57,s=43,h=47,u=26,f=52;return r<=e&&e<=o?e-r:l<=e&&e<=c?e-l+u:d<=e&&e<=a?e-d+f:e==s?62:e==h?63:-1},pe}var gt;function Gt(){if(gt)return he;gt=1;var t=Kn(),e=5,r=1<<e,o=r-1,l=r;function c(a){return a<0?(-a<<1)+1:(a<<1)+0}function d(a){var s=(a&1)===1,h=a>>1;return s?-h:h}return he.encode=function(s){var h="",u,f=c(s);do u=f&o,f>>>=e,f>0&&(u|=l),h+=t.encode(u);while(f>0);return h},he.decode=function(s,h,u){var f=s.length,n=0,p=0,i,g;do{if(h>=f)throw new Error("Expected more digits in base 64 VLQ value.");if(g=t.decode(s.charCodeAt(h++)),g===-1)throw new Error("Invalid base64 digit: "+s.charAt(h-1));i=!!(g&l),g&=o,n=n+(g<<p),p+=e}while(i);u.value=d(n),u.rest=h},he}var we={},mt;function ce(){return mt||(mt=1,function(t){function e(m,S,w){if(S in m)return m[S];if(arguments.length===3)return w;throw new Error('"'+S+'" is a required argument.')}t.getArg=e;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,o=/^data:.+\,.+$/;function l(m){var S=m.match(r);return S?{scheme:S[1],auth:S[2],host:S[3],port:S[4],path:S[5]}:null}t.urlParse=l;function c(m){var S="";return m.scheme&&(S+=m.scheme+":"),S+="//",m.auth&&(S+=m.auth+"@"),m.host&&(S+=m.host),m.port&&(S+=":"+m.port),m.path&&(S+=m.path),S}t.urlGenerate=c;function d(m){var S=m,w=l(m);if(w){if(!w.path)return m;S=w.path}for(var k=t.isAbsolute(S),b=S.split(/\/+/),O,E=0,M=b.length-1;M>=0;M--)O=b[M],O==="."?b.splice(M,1):O===".."?E++:E>0&&(O===""?(b.splice(M+1,E),E=0):(b.splice(M,2),E--));return S=b.join("/"),S===""&&(S=k?"/":"."),w?(w.path=S,c(w)):S}t.normalize=d;function a(m,S){m===""&&(m="."),S===""&&(S=".");var w=l(S),k=l(m);if(k&&(m=k.path||"/"),w&&!w.scheme)return k&&(w.scheme=k.scheme),c(w);if(w||S.match(o))return S;if(k&&!k.host&&!k.path)return k.host=S,c(k);var b=S.charAt(0)==="/"?S:d(m.replace(/\/+$/,"")+"/"+S);return k?(k.path=b,c(k)):b}t.join=a,t.isAbsolute=function(m){return m.charAt(0)==="/"||r.test(m)};function s(m,S){m===""&&(m="."),m=m.replace(/\/$/,"");for(var w=0;S.indexOf(m+"/")!==0;){var k=m.lastIndexOf("/");if(k<0||(m=m.slice(0,k),m.match(/^([^\/]+:\/)?\/*$/)))return S;++w}return Array(w+1).join("../")+S.substr(m.length+1)}t.relative=s;var h=function(){var m=Object.create(null);return!("__proto__"in m)}();function u(m){return m}function f(m){return p(m)?"$"+m:m}t.toSetString=h?u:f;function n(m){return p(m)?m.slice(1):m}t.fromSetString=h?u:n;function p(m){if(!m)return!1;var S=m.length;if(S<9||m.charCodeAt(S-1)!==95||m.charCodeAt(S-2)!==95||m.charCodeAt(S-3)!==111||m.charCodeAt(S-4)!==116||m.charCodeAt(S-5)!==111||m.charCodeAt(S-6)!==114||m.charCodeAt(S-7)!==112||m.charCodeAt(S-8)!==95||m.charCodeAt(S-9)!==95)return!1;for(var w=S-10;w>=0;w--)if(m.charCodeAt(w)!==36)return!1;return!0}function i(m,S,w){var k=v(m.source,S.source);return k!==0||(k=m.originalLine-S.originalLine,k!==0)||(k=m.originalColumn-S.originalColumn,k!==0||w)||(k=m.generatedColumn-S.generatedColumn,k!==0)||(k=m.generatedLine-S.generatedLine,k!==0)?k:v(m.name,S.name)}t.compareByOriginalPositions=i;function g(m,S,w){var k=m.generatedLine-S.generatedLine;return k!==0||(k=m.generatedColumn-S.generatedColumn,k!==0||w)||(k=v(m.source,S.source),k!==0)||(k=m.originalLine-S.originalLine,k!==0)||(k=m.originalColumn-S.originalColumn,k!==0)?k:v(m.name,S.name)}t.compareByGeneratedPositionsDeflated=g;function v(m,S){return m===S?0:m===null?1:S===null?-1:m>S?1:-1}function C(m,S){var w=m.generatedLine-S.generatedLine;return w!==0||(w=m.generatedColumn-S.generatedColumn,w!==0)||(w=v(m.source,S.source),w!==0)||(w=m.originalLine-S.originalLine,w!==0)||(w=m.originalColumn-S.originalColumn,w!==0)?w:v(m.name,S.name)}t.compareByGeneratedPositionsInflated=C;function _(m){return JSON.parse(m.replace(/^\)]}'[^\n]*\n/,""))}t.parseSourceMapInput=_;function y(m,S,w){if(S=S||"",m&&(m[m.length-1]!=="/"&&S[0]!=="/"&&(m+="/"),S=m+S),w){var k=l(w);if(!k)throw new Error("sourceMapURL could not be parsed");if(k.path){var b=k.path.lastIndexOf("/");b>=0&&(k.path=k.path.substring(0,b+1))}S=a(c(k),S)}return d(S)}t.computeSourceURL=y}(we)),we}var be={},vt;function Wt(){if(vt)return be;vt=1;var t=ce(),e=Object.prototype.hasOwnProperty,r=typeof Map<"u";function o(){this._array=[],this._set=r?new Map:Object.create(null)}return o.fromArray=function(c,d){for(var a=new o,s=0,h=c.length;s<h;s++)a.add(c[s],d);return a},o.prototype.size=function(){return r?this._set.size:Object.getOwnPropertyNames(this._set).length},o.prototype.add=function(c,d){var a=r?c:t.toSetString(c),s=r?this.has(c):e.call(this._set,a),h=this._array.length;(!s||d)&&this._array.push(c),s||(r?this._set.set(c,h):this._set[a]=h)},o.prototype.has=function(c){if(r)return this._set.has(c);var d=t.toSetString(c);return e.call(this._set,d)},o.prototype.indexOf=function(c){if(r){var d=this._set.get(c);if(d>=0)return d}else{var a=t.toSetString(c);if(e.call(this._set,a))return this._set[a]}throw new Error('"'+c+'" is not in the set.')},o.prototype.at=function(c){if(c>=0&&c<this._array.length)return this._array[c];throw new Error("No element indexed by "+c)},o.prototype.toArray=function(){return this._array.slice()},be.ArraySet=o,be}var Pe={},_t;function Zn(){if(_t)return Pe;_t=1;var t=ce();function e(o,l){var c=o.generatedLine,d=l.generatedLine,a=o.generatedColumn,s=l.generatedColumn;return d>c||d==c&&s>=a||t.compareByGeneratedPositionsInflated(o,l)<=0}function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return r.prototype.unsortedForEach=function(l,c){this._array.forEach(l,c)},r.prototype.add=function(l){e(this._last,l)?(this._last=l,this._array.push(l)):(this._sorted=!1,this._array.push(l))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Pe.MappingList=r,Pe}var St;function jt(){if(St)return ke;St=1;var t=Gt(),e=ce(),r=Wt().ArraySet,o=Zn().MappingList;function l(c){c||(c={}),this._file=e.getArg(c,"file",null),this._sourceRoot=e.getArg(c,"sourceRoot",null),this._skipValidation=e.getArg(c,"skipValidation",!1),this._sources=new r,this._names=new r,this._mappings=new o,this._sourcesContents=null}return l.prototype._version=3,l.fromSourceMap=function(d){var a=d.sourceRoot,s=new l({file:d.file,sourceRoot:a});return d.eachMapping(function(h){var u={generated:{line:h.generatedLine,column:h.generatedColumn}};h.source!=null&&(u.source=h.source,a!=null&&(u.source=e.relative(a,u.source)),u.original={line:h.originalLine,column:h.originalColumn},h.name!=null&&(u.name=h.name)),s.addMapping(u)}),d.sources.forEach(function(h){var u=h;a!==null&&(u=e.relative(a,h)),s._sources.has(u)||s._sources.add(u);var f=d.sourceContentFor(h);f!=null&&s.setSourceContent(h,f)}),s},l.prototype.addMapping=function(d){var a=e.getArg(d,"generated"),s=e.getArg(d,"original",null),h=e.getArg(d,"source",null),u=e.getArg(d,"name",null);this._skipValidation||this._validateMapping(a,s,h,u),h!=null&&(h=String(h),this._sources.has(h)||this._sources.add(h)),u!=null&&(u=String(u),this._names.has(u)||this._names.add(u)),this._mappings.add({generatedLine:a.line,generatedColumn:a.column,originalLine:s!=null&&s.line,originalColumn:s!=null&&s.column,source:h,name:u})},l.prototype.setSourceContent=function(d,a){var s=d;this._sourceRoot!=null&&(s=e.relative(this._sourceRoot,s)),a!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[e.toSetString(s)]=a):this._sourcesContents&&(delete this._sourcesContents[e.toSetString(s)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},l.prototype.applySourceMap=function(d,a,s){var h=a;if(a==null){if(d.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);h=d.file}var u=this._sourceRoot;u!=null&&(h=e.relative(u,h));var f=new r,n=new r;this._mappings.unsortedForEach(function(p){if(p.source===h&&p.originalLine!=null){var i=d.originalPositionFor({line:p.originalLine,column:p.originalColumn});i.source!=null&&(p.source=i.source,s!=null&&(p.source=e.join(s,p.source)),u!=null&&(p.source=e.relative(u,p.source)),p.originalLine=i.line,p.originalColumn=i.column,i.name!=null&&(p.name=i.name))}var g=p.source;g!=null&&!f.has(g)&&f.add(g);var v=p.name;v!=null&&!n.has(v)&&n.add(v)},this),this._sources=f,this._names=n,d.sources.forEach(function(p){var i=d.sourceContentFor(p);i!=null&&(s!=null&&(p=e.join(s,p)),u!=null&&(p=e.relative(u,p)),this.setSourceContent(p,i))},this)},l.prototype._validateMapping=function(d,a,s,h){if(a&&typeof a.line!="number"&&typeof a.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(d&&"line"in d&&"column"in d&&d.line>0&&d.column>=0&&!a&&!s&&!h)){if(d&&"line"in d&&"column"in d&&a&&"line"in a&&"column"in a&&d.line>0&&d.column>=0&&a.line>0&&a.column>=0&&s)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:d,source:s,original:a,name:h}))}},l.prototype._serializeMappings=function(){for(var d=0,a=1,s=0,h=0,u=0,f=0,n="",p,i,g,v,C=this._mappings.toArray(),_=0,y=C.length;_<y;_++){if(i=C[_],p="",i.generatedLine!==a)for(d=0;i.generatedLine!==a;)p+=";",a++;else if(_>0){if(!e.compareByGeneratedPositionsInflated(i,C[_-1]))continue;p+=","}p+=t.encode(i.generatedColumn-d),d=i.generatedColumn,i.source!=null&&(v=this._sources.indexOf(i.source),p+=t.encode(v-f),f=v,p+=t.encode(i.originalLine-1-h),h=i.originalLine-1,p+=t.encode(i.originalColumn-s),s=i.originalColumn,i.name!=null&&(g=this._names.indexOf(i.name),p+=t.encode(g-u),u=g)),n+=p}return n},l.prototype._generateSourcesContent=function(d,a){return d.map(function(s){if(!this._sourcesContents)return null;a!=null&&(s=e.relative(a,s));var h=e.toSetString(s);return Object.prototype.hasOwnProperty.call(this._sourcesContents,h)?this._sourcesContents[h]:null},this)},l.prototype.toJSON=function(){var d={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(d.file=this._file),this._sourceRoot!=null&&(d.sourceRoot=this._sourceRoot),this._sourcesContents&&(d.sourcesContent=this._generateSourcesContent(d.sources,d.sourceRoot)),d},l.prototype.toString=function(){return JSON.stringify(this.toJSON())},ke.SourceMapGenerator=l,ke}var ne={},Ee={},Ct;function Jn(){return Ct||(Ct=1,function(t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2;function e(r,o,l,c,d,a){var s=Math.floor((o-r)/2)+r,h=d(l,c[s],!0);return h===0?s:h>0?o-s>1?e(s,o,l,c,d,a):a==t.LEAST_UPPER_BOUND?o<c.length?o:-1:s:s-r>1?e(r,s,l,c,d,a):a==t.LEAST_UPPER_BOUND?s:r<0?-1:r}t.search=function(o,l,c,d){if(l.length===0)return-1;var a=e(-1,l.length,o,l,c,d||t.GREATEST_LOWER_BOUND);if(a<0)return-1;for(;a-1>=0&&c(l[a],l[a-1],!0)===0;)--a;return a}}(Ee)),Ee}var Le={},yt;function Qn(){if(yt)return Le;yt=1;function t(o,l,c){var d=o[l];o[l]=o[c],o[c]=d}function e(o,l){return Math.round(o+Math.random()*(l-o))}function r(o,l,c,d){if(c<d){var a=e(c,d),s=c-1;t(o,a,d);for(var h=o[d],u=c;u<d;u++)l(o[u],h)<=0&&(s+=1,t(o,s,u));t(o,s+1,u);var f=s+1;r(o,l,c,f-1),r(o,l,f+1,d)}}return Le.quickSort=function(o,l){r(o,l,0,o.length-1)},Le}var kt;function Yn(){if(kt)return ne;kt=1;var t=ce(),e=Jn(),r=Wt().ArraySet,o=Gt(),l=Qn().quickSort;function c(h,u){var f=h;return typeof h=="string"&&(f=t.parseSourceMapInput(h)),f.sections!=null?new s(f,u):new d(f,u)}c.fromSourceMap=function(h,u){return d.fromSourceMap(h,u)},c.prototype._version=3,c.prototype.__generatedMappings=null,Object.defineProperty(c.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),c.prototype.__originalMappings=null,Object.defineProperty(c.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),c.prototype._charIsMappingSeparator=function(u,f){var n=u.charAt(f);return n===";"||n===","},c.prototype._parseMappings=function(u,f){throw new Error("Subclasses must implement _parseMappings")},c.GENERATED_ORDER=1,c.ORIGINAL_ORDER=2,c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.prototype.eachMapping=function(u,f,n){var p=f||null,i=n||c.GENERATED_ORDER,g;switch(i){case c.GENERATED_ORDER:g=this._generatedMappings;break;case c.ORIGINAL_ORDER:g=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var v=this.sourceRoot;g.map(function(C){var _=C.source===null?null:this._sources.at(C.source);return _=t.computeSourceURL(v,_,this._sourceMapURL),{source:_,generatedLine:C.generatedLine,generatedColumn:C.generatedColumn,originalLine:C.originalLine,originalColumn:C.originalColumn,name:C.name===null?null:this._names.at(C.name)}},this).forEach(u,p)},c.prototype.allGeneratedPositionsFor=function(u){var f=t.getArg(u,"line"),n={source:t.getArg(u,"source"),originalLine:f,originalColumn:t.getArg(u,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var p=[],i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,e.LEAST_UPPER_BOUND);if(i>=0){var g=this._originalMappings[i];if(u.column===void 0)for(var v=g.originalLine;g&&g.originalLine===v;)p.push({line:t.getArg(g,"generatedLine",null),column:t.getArg(g,"generatedColumn",null),lastColumn:t.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++i];else for(var C=g.originalColumn;g&&g.originalLine===f&&g.originalColumn==C;)p.push({line:t.getArg(g,"generatedLine",null),column:t.getArg(g,"generatedColumn",null),lastColumn:t.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++i]}return p},ne.SourceMapConsumer=c;function d(h,u){var f=h;typeof h=="string"&&(f=t.parseSourceMapInput(h));var n=t.getArg(f,"version"),p=t.getArg(f,"sources"),i=t.getArg(f,"names",[]),g=t.getArg(f,"sourceRoot",null),v=t.getArg(f,"sourcesContent",null),C=t.getArg(f,"mappings"),_=t.getArg(f,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);g&&(g=t.normalize(g)),p=p.map(String).map(t.normalize).map(function(y){return g&&t.isAbsolute(g)&&t.isAbsolute(y)?t.relative(g,y):y}),this._names=r.fromArray(i.map(String),!0),this._sources=r.fromArray(p,!0),this._absoluteSources=this._sources.toArray().map(function(y){return t.computeSourceURL(g,y,u)}),this.sourceRoot=g,this.sourcesContent=v,this._mappings=C,this._sourceMapURL=u,this.file=_}d.prototype=Object.create(c.prototype),d.prototype.consumer=c,d.prototype._findSourceIndex=function(h){var u=h;if(this.sourceRoot!=null&&(u=t.relative(this.sourceRoot,u)),this._sources.has(u))return this._sources.indexOf(u);var f;for(f=0;f<this._absoluteSources.length;++f)if(this._absoluteSources[f]==h)return f;return-1},d.fromSourceMap=function(u,f){var n=Object.create(d.prototype),p=n._names=r.fromArray(u._names.toArray(),!0),i=n._sources=r.fromArray(u._sources.toArray(),!0);n.sourceRoot=u._sourceRoot,n.sourcesContent=u._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=u._file,n._sourceMapURL=f,n._absoluteSources=n._sources.toArray().map(function(w){return t.computeSourceURL(n.sourceRoot,w,f)});for(var g=u._mappings.toArray().slice(),v=n.__generatedMappings=[],C=n.__originalMappings=[],_=0,y=g.length;_<y;_++){var m=g[_],S=new a;S.generatedLine=m.generatedLine,S.generatedColumn=m.generatedColumn,m.source&&(S.source=i.indexOf(m.source),S.originalLine=m.originalLine,S.originalColumn=m.originalColumn,m.name&&(S.name=p.indexOf(m.name)),C.push(S)),v.push(S)}return l(n.__originalMappings,t.compareByOriginalPositions),n},d.prototype._version=3,Object.defineProperty(d.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function a(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}d.prototype._parseMappings=function(u,f){for(var n=1,p=0,i=0,g=0,v=0,C=0,_=u.length,y=0,m={},S={},w=[],k=[],b,O,E,M,J;y<_;)if(u.charAt(y)===";")n++,y++,p=0;else if(u.charAt(y)===",")y++;else{for(b=new a,b.generatedLine=n,M=y;M<_&&!this._charIsMappingSeparator(u,M);M++);if(O=u.slice(y,M),E=m[O],E)y+=O.length;else{for(E=[];y<M;)o.decode(u,y,S),J=S.value,y=S.rest,E.push(J);if(E.length===2)throw new Error("Found a source, but no line and column");if(E.length===3)throw new Error("Found a source and line, but no column");m[O]=E}b.generatedColumn=p+E[0],p=b.generatedColumn,E.length>1&&(b.source=v+E[1],v+=E[1],b.originalLine=i+E[2],i=b.originalLine,b.originalLine+=1,b.originalColumn=g+E[3],g=b.originalColumn,E.length>4&&(b.name=C+E[4],C+=E[4])),k.push(b),typeof b.originalLine=="number"&&w.push(b)}l(k,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=k,l(w,t.compareByOriginalPositions),this.__originalMappings=w},d.prototype._findMapping=function(u,f,n,p,i,g){if(u[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+u[n]);if(u[p]<0)throw new TypeError("Column must be greater than or equal to 0, got "+u[p]);return e.search(u,f,i,g)},d.prototype.computeColumnSpans=function(){for(var u=0;u<this._generatedMappings.length;++u){var f=this._generatedMappings[u];if(u+1<this._generatedMappings.length){var n=this._generatedMappings[u+1];if(f.generatedLine===n.generatedLine){f.lastGeneratedColumn=n.generatedColumn-1;continue}}f.lastGeneratedColumn=1/0}},d.prototype.originalPositionFor=function(u){var f={generatedLine:t.getArg(u,"line"),generatedColumn:t.getArg(u,"column")},n=this._findMapping(f,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(u,"bias",c.GREATEST_LOWER_BOUND));if(n>=0){var p=this._generatedMappings[n];if(p.generatedLine===f.generatedLine){var i=t.getArg(p,"source",null);i!==null&&(i=this._sources.at(i),i=t.computeSourceURL(this.sourceRoot,i,this._sourceMapURL));var g=t.getArg(p,"name",null);return g!==null&&(g=this._names.at(g)),{source:i,line:t.getArg(p,"originalLine",null),column:t.getArg(p,"originalColumn",null),name:g}}}return{source:null,line:null,column:null,name:null}},d.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(u){return u==null}):!1},d.prototype.sourceContentFor=function(u,f){if(!this.sourcesContent)return null;var n=this._findSourceIndex(u);if(n>=0)return this.sourcesContent[n];var p=u;this.sourceRoot!=null&&(p=t.relative(this.sourceRoot,p));var i;if(this.sourceRoot!=null&&(i=t.urlParse(this.sourceRoot))){var g=p.replace(/^file:\/\//,"");if(i.scheme=="file"&&this._sources.has(g))return this.sourcesContent[this._sources.indexOf(g)];if((!i.path||i.path=="/")&&this._sources.has("/"+p))return this.sourcesContent[this._sources.indexOf("/"+p)]}if(f)return null;throw new Error('"'+p+'" is not in the SourceMap.')},d.prototype.generatedPositionFor=function(u){var f=t.getArg(u,"source");if(f=this._findSourceIndex(f),f<0)return{line:null,column:null,lastColumn:null};var n={source:f,originalLine:t.getArg(u,"line"),originalColumn:t.getArg(u,"column")},p=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(u,"bias",c.GREATEST_LOWER_BOUND));if(p>=0){var i=this._originalMappings[p];if(i.source===n.source)return{line:t.getArg(i,"generatedLine",null),column:t.getArg(i,"generatedColumn",null),lastColumn:t.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},ne.BasicSourceMapConsumer=d;function s(h,u){var f=h;typeof h=="string"&&(f=t.parseSourceMapInput(h));var n=t.getArg(f,"version"),p=t.getArg(f,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new r,this._names=new r;var i={line:-1,column:0};this._sections=p.map(function(g){if(g.url)throw new Error("Support for url field in sections not implemented.");var v=t.getArg(g,"offset"),C=t.getArg(v,"line"),_=t.getArg(v,"column");if(C<i.line||C===i.line&&_<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=v,{generatedOffset:{generatedLine:C+1,generatedColumn:_+1},consumer:new c(t.getArg(g,"map"),u)}})}return s.prototype=Object.create(c.prototype),s.prototype.constructor=c,s.prototype._version=3,Object.defineProperty(s.prototype,"sources",{get:function(){for(var h=[],u=0;u<this._sections.length;u++)for(var f=0;f<this._sections[u].consumer.sources.length;f++)h.push(this._sections[u].consumer.sources[f]);return h}}),s.prototype.originalPositionFor=function(u){var f={generatedLine:t.getArg(u,"line"),generatedColumn:t.getArg(u,"column")},n=e.search(f,this._sections,function(i,g){var v=i.generatedLine-g.generatedOffset.generatedLine;return v||i.generatedColumn-g.generatedOffset.generatedColumn}),p=this._sections[n];return p?p.consumer.originalPositionFor({line:f.generatedLine-(p.generatedOffset.generatedLine-1),column:f.generatedColumn-(p.generatedOffset.generatedLine===f.generatedLine?p.generatedOffset.generatedColumn-1:0),bias:u.bias}):{source:null,line:null,column:null,name:null}},s.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(u){return u.consumer.hasContentsOfAllSources()})},s.prototype.sourceContentFor=function(u,f){for(var n=0;n<this._sections.length;n++){var p=this._sections[n],i=p.consumer.sourceContentFor(u,!0);if(i)return i}if(f)return null;throw new Error('"'+u+'" is not in the SourceMap.')},s.prototype.generatedPositionFor=function(u){for(var f=0;f<this._sections.length;f++){var n=this._sections[f];if(n.consumer._findSourceIndex(t.getArg(u,"source"))!==-1){var p=n.consumer.generatedPositionFor(u);if(p){var i={line:p.line+(n.generatedOffset.generatedLine-1),column:p.column+(n.generatedOffset.generatedLine===p.line?n.generatedOffset.generatedColumn-1:0)};return i}}}return{line:null,column:null}},s.prototype._parseMappings=function(u,f){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var p=this._sections[n],i=p.consumer._generatedMappings,g=0;g<i.length;g++){var v=i[g],C=p.consumer._sources.at(v.source);C=t.computeSourceURL(p.consumer.sourceRoot,C,this._sourceMapURL),this._sources.add(C),C=this._sources.indexOf(C);var _=null;v.name&&(_=p.consumer._names.at(v.name),this._names.add(_),_=this._names.indexOf(_));var y={source:C,generatedLine:v.generatedLine+(p.generatedOffset.generatedLine-1),generatedColumn:v.generatedColumn+(p.generatedOffset.generatedLine===v.generatedLine?p.generatedOffset.generatedColumn-1:0),originalLine:v.originalLine,originalColumn:v.originalColumn,name:_};this.__generatedMappings.push(y),typeof y.originalLine=="number"&&this.__originalMappings.push(y)}l(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),l(this.__originalMappings,t.compareByOriginalPositions)},ne.IndexedSourceMapConsumer=s,ne}var Ae={},wt;function Xn(){if(wt)return Ae;wt=1;var t=jt().SourceMapGenerator,e=ce(),r=/(\r?\n)/,o=10,l="$$$isSourceNode$$$";function c(d,a,s,h,u){this.children=[],this.sourceContents={},this.line=d??null,this.column=a??null,this.source=s??null,this.name=u??null,this[l]=!0,h!=null&&this.add(h)}return c.fromStringWithSourceMap=function(a,s,h){var u=new c,f=a.split(r),n=0,p=function(){var _=m(),y=m()||"";return _+y;function m(){return n<f.length?f[n++]:void 0}},i=1,g=0,v=null;return s.eachMapping(function(_){if(v!==null)if(i<_.generatedLine)C(v,p()),i++,g=0;else{var y=f[n]||"",m=y.substr(0,_.generatedColumn-g);f[n]=y.substr(_.generatedColumn-g),g=_.generatedColumn,C(v,m),v=_;return}for(;i<_.generatedLine;)u.add(p()),i++;if(g<_.generatedColumn){var y=f[n]||"";u.add(y.substr(0,_.generatedColumn)),f[n]=y.substr(_.generatedColumn),g=_.generatedColumn}v=_},this),n<f.length&&(v&&C(v,p()),u.add(f.splice(n).join(""))),s.sources.forEach(function(_){var y=s.sourceContentFor(_);y!=null&&(h!=null&&(_=e.join(h,_)),u.setSourceContent(_,y))}),u;function C(_,y){if(_===null||_.source===void 0)u.add(y);else{var m=h?e.join(h,_.source):_.source;u.add(new c(_.originalLine,_.originalColumn,m,y,_.name))}}},c.prototype.add=function(a){if(Array.isArray(a))a.forEach(function(s){this.add(s)},this);else if(a[l]||typeof a=="string")a&&this.children.push(a);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+a);return this},c.prototype.prepend=function(a){if(Array.isArray(a))for(var s=a.length-1;s>=0;s--)this.prepend(a[s]);else if(a[l]||typeof a=="string")this.children.unshift(a);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+a);return this},c.prototype.walk=function(a){for(var s,h=0,u=this.children.length;h<u;h++)s=this.children[h],s[l]?s.walk(a):s!==""&&a(s,{source:this.source,line:this.line,column:this.column,name:this.name})},c.prototype.join=function(a){var s,h,u=this.children.length;if(u>0){for(s=[],h=0;h<u-1;h++)s.push(this.children[h]),s.push(a);s.push(this.children[h]),this.children=s}return this},c.prototype.replaceRight=function(a,s){var h=this.children[this.children.length-1];return h[l]?h.replaceRight(a,s):typeof h=="string"?this.children[this.children.length-1]=h.replace(a,s):this.children.push("".replace(a,s)),this},c.prototype.setSourceContent=function(a,s){this.sourceContents[e.toSetString(a)]=s},c.prototype.walkSourceContents=function(a){for(var s=0,h=this.children.length;s<h;s++)this.children[s][l]&&this.children[s].walkSourceContents(a);for(var u=Object.keys(this.sourceContents),s=0,h=u.length;s<h;s++)a(e.fromSetString(u[s]),this.sourceContents[u[s]])},c.prototype.toString=function(){var a="";return this.walk(function(s){a+=s}),a},c.prototype.toStringWithSourceMap=function(a){var s={code:"",line:1,column:0},h=new t(a),u=!1,f=null,n=null,p=null,i=null;return this.walk(function(g,v){s.code+=g,v.source!==null&&v.line!==null&&v.column!==null?((f!==v.source||n!==v.line||p!==v.column||i!==v.name)&&h.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:s.line,column:s.column},name:v.name}),f=v.source,n=v.line,p=v.column,i=v.name,u=!0):u&&(h.addMapping({generated:{line:s.line,column:s.column}}),f=null,u=!1);for(var C=0,_=g.length;C<_;C++)g.charCodeAt(C)===o?(s.line++,s.column=0,C+1===_?(f=null,u=!1):u&&h.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:s.line,column:s.column},name:v.name})):s.column++}),this.walkSourceContents(function(g,v){h.setSourceContent(g,v)}),{code:s.code,map:h}},Ae.SourceNode=c,Ae}var bt;function $n(){return bt||(bt=1,re.SourceMapGenerator=jt().SourceMapGenerator,re.SourceMapConsumer=Yn().SourceMapConsumer,re.SourceNode=Xn().SourceNode),re}(function(t,e){e.__esModule=!0;var r=A,o=void 0;try{var l=$n();o=l.SourceNode}catch{}o||(o=function(a,s,h,u){this.src="",u&&this.add(u)},o.prototype={add:function(s){r.isArray(s)&&(s=s.join("")),this.src+=s},prepend:function(s){r.isArray(s)&&(s=s.join("")),this.src=s+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}});function c(a,s,h){if(r.isArray(a)){for(var u=[],f=0,n=a.length;f<n;f++)u.push(s.wrap(a[f],h));return u}else if(typeof a=="boolean"||typeof a=="number")return a+"";return a}function d(a){this.srcFile=a,this.source=[]}d.prototype={isEmpty:function(){return!this.source.length},prepend:function(s,h){this.source.unshift(this.wrap(s,h))},push:function(s,h){this.source.push(this.wrap(s,h))},merge:function(){var s=this.empty();return this.each(function(h){s.add(["  ",h,`
`])}),s},each:function(s){for(var h=0,u=this.source.length;h<u;h++)s(this.source[h])},empty:function(){var s=this.currentLocation||{start:{}};return new o(s.start.line,s.start.column,this.srcFile)},wrap:function(s){var h=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];return s instanceof o?s:(s=c(s,this,h),new o(h.start.line,h.start.column,this.srcFile,s))},functionCall:function(s,h,u){return u=this.generateList(u),this.wrap([s,h?"."+h+"(":"(",u,")"])},quotedString:function(s){return'"'+(s+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(s){var h=this,u=[];Object.keys(s).forEach(function(n){var p=c(s[n],h);p!=="undefined"&&u.push([h.quotedString(n),":",p])});var f=this.generateList(u);return f.prepend("{"),f.add("}"),f},generateList:function(s){for(var h=this.empty(),u=0,f=s.length;u<f;u++)u&&h.add(","),h.add(c(s[u],this));return h},generateArray:function(s){var h=this.generateList(s);return h.prepend("["),h.add("]"),h}},e.default=d,t.exports=e.default})(Xe,Xe.exports);var es=Xe.exports;(function(t,e){e.__esModule=!0;function r(n){return n&&n.__esModule?n:{default:n}}var o=B,l=T,c=r(l),d=A,a=es,s=r(a);function h(n){this.value=n}function u(){}u.prototype={nameLookup:function(p,i){return this.internalNameLookup(p,i)},depthedLookup:function(p){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(p),")"]},compilerInfo:function(){var p=o.COMPILER_REVISION,i=o.REVISION_CHANGES[p];return[p,i]},appendToBuffer:function(p,i,g){return d.isArray(p)||(p=[p]),p=this.source.wrap(p,i),this.environment.isSimple?["return ",p,";"]:g?["buffer += ",p,";"]:(p.appendToBuffer=!0,p)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(p,i){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",p,",",JSON.stringify(i),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(p,i,g,v){this.environment=p,this.options=i,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!v,this.name=this.environment.name,this.isChild=!!g,this.context=g||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(p,i),this.useDepths=this.useDepths||p.useDepths||p.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||p.useBlockParams;var C=p.opcodes,_=void 0,y=void 0,m=void 0,S=void 0;for(m=0,S=C.length;m<S;m++)_=C[m],this.source.currentLocation=_.loc,y=y||_.loc,this[_.opcode].apply(this,_.args);if(this.source.currentLocation=y,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new c.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),v?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge()));var w=this.createFunctionContext(v);if(this.isChild)return w;var k={compiler:this.compilerInfo(),main:w};this.decorators&&(k.main_d=this.decorators,k.useDecorators=!0);var b=this.context,O=b.programs,E=b.decorators;for(m=0,S=O.length;m<S;m++)O[m]&&(k[m]=O[m],E[m]&&(k[m+"_d"]=E[m],k.useDecorators=!0));return this.environment.usePartial&&(k.usePartial=!0),this.options.data&&(k.useData=!0),this.useDepths&&(k.useDepths=!0),this.useBlockParams&&(k.useBlockParams=!0),this.options.compat&&(k.compat=!0),v?k.compilerOptions=this.options:(k.compiler=JSON.stringify(k.compiler),this.source.currentLocation={start:{line:1,column:0}},k=this.objectLiteral(k),i.srcName?(k=k.toStringWithSourceMap({file:i.destName}),k.map=k.map&&k.map.toString()):k=k.toString()),k},preamble:function(){this.lastContext=0,this.source=new s.default(this.options.srcName),this.decorators=new s.default(this.options.srcName)},createFunctionContext:function(p){var i=this,g="",v=this.stackVars.concat(this.registers.list);v.length>0&&(g+=", "+v.join(", "));var C=0;Object.keys(this.aliases).forEach(function(m){var S=i.aliases[m];S.children&&S.referenceCount>1&&(g+=", alias"+ ++C+"="+m,S.children[0]="alias"+C)}),this.lookupPropertyFunctionIsUsed&&(g+=", "+this.lookupPropertyFunctionVarDeclaration());var _=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&_.push("blockParams"),this.useDepths&&_.push("depths");var y=this.mergeSource(g);return p?(_.push(y),Function.apply(this,_)):this.source.wrap(["function(",_.join(","),`) {
  `,y,"}"])},mergeSource:function(p){var i=this.environment.isSimple,g=!this.forceBuffer,v=void 0,C=void 0,_=void 0,y=void 0;return this.source.each(function(m){m.appendToBuffer?(_?m.prepend("  + "):_=m,y=m):(_&&(C?_.prepend("buffer += "):v=!0,y.add(";"),_=y=void 0),C=!0,i||(g=!1))}),g?_?(_.prepend("return "),y.add(";")):C||this.source.push('return "";'):(p+=", buffer = "+(v?"":this.initializeBuffer()),_?(_.prepend("return buffer + "),y.add(";")):this.source.push("return buffer;")),p&&this.source.prepend("var "+p.substring(2)+(v?"":`;
`)),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},blockValue:function(p){var i=this.aliasable("container.hooks.blockHelperMissing"),g=[this.contextName(0)];this.setupHelperArgs(p,0,g);var v=this.popStack();g.splice(1,0,v),this.push(this.source.functionCall(i,"call",g))},ambiguousBlockValue:function(){var p=this.aliasable("container.hooks.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs("",0,i,!0),this.flushInline();var g=this.topStack();i.splice(1,0,g),this.pushSource(["if (!",this.lastHelper,") { ",g," = ",this.source.functionCall(p,"call",i),"}"])},appendContent:function(p){this.pendingContent?p=this.pendingContent+p:this.pendingLocation=this.source.currentLocation,this.pendingContent=p},append:function(){if(this.isInline())this.replaceStack(function(i){return[" != null ? ",i,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var p=this.popStack();this.pushSource(["if (",p," != null) { ",this.appendToBuffer(p,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(p){this.lastContext=p},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(p,i,g,v){var C=0;!v&&this.options.compat&&!this.lastContext?this.push(this.depthedLookup(p[C++])):this.pushContext(),this.resolvePath("context",p,C,i,g)},lookupBlockParam:function(p,i){this.useBlockParams=!0,this.push(["blockParams[",p[0],"][",p[1],"]"]),this.resolvePath("context",i,1)},lookupData:function(p,i,g){p?this.pushStackLiteral("container.data(data, "+p+")"):this.pushStackLiteral("data"),this.resolvePath("data",i,0,!0,g)},resolvePath:function(p,i,g,v,C){var _=this;if(this.options.strict||this.options.assumeObjects){this.push(f(this.options.strict&&C,this,i,g,p));return}for(var y=i.length;g<y;g++)this.replaceStack(function(m){var S=_.nameLookup(m,i[g],p);return v?[" && ",S]:[" != null ? ",S," : ",m]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(p,i){this.pushContext(),this.pushString(i),i!=="SubExpression"&&(typeof p=="string"?this.pushString(p):this.pushStackLiteral(p))},emptyHash:function(p){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(p?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var p=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(p.ids)),this.stringParams&&(this.push(this.objectLiteral(p.contexts)),this.push(this.objectLiteral(p.types))),this.push(this.objectLiteral(p.values))},pushString:function(p){this.pushStackLiteral(this.quotedString(p))},pushLiteral:function(p){this.pushStackLiteral(p)},pushProgram:function(p){p!=null?this.pushStackLiteral(this.programExpression(p)):this.pushStackLiteral(null)},registerDecorator:function(p,i){var g=this.nameLookup("decorators",i,"decorator"),v=this.setupHelperArgs(i,p);this.decorators.push(["fn = ",this.decorators.functionCall(g,"",["fn","props","container",v])," || fn;"])},invokeHelper:function(p,i,g){var v=this.popStack(),C=this.setupHelper(p,i),_=[];g&&_.push(C.name),_.push(v),this.options.strict||_.push(this.aliasable("container.hooks.helperMissing"));var y=["(",this.itemsSeparatedBy(_,"||"),")"],m=this.source.functionCall(y,"call",C.callParams);this.push(m)},itemsSeparatedBy:function(p,i){var g=[];g.push(p[0]);for(var v=1;v<p.length;v++)g.push(i,p[v]);return g},invokeKnownHelper:function(p,i){var g=this.setupHelper(p,i);this.push(this.source.functionCall(g.name,"call",g.callParams))},invokeAmbiguous:function(p,i){this.useRegister("helper");var g=this.popStack();this.emptyHash();var v=this.setupHelper(0,p,i),C=this.lastHelper=this.nameLookup("helpers",p,"helper"),_=["(","(helper = ",C," || ",g,")"];this.options.strict||(_[0]="(helper = ",_.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",_,v.paramsInit?["),(",v.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",v.callParams)," : helper))"])},invokePartial:function(p,i,g){var v=[],C=this.setupParams(i,1,v);p&&(i=this.popStack(),delete C.name),g&&(C.indent=JSON.stringify(g)),C.helpers="helpers",C.partials="partials",C.decorators="container.decorators",p?v.unshift(i):v.unshift(this.nameLookup("partials",i,"partial")),this.options.compat&&(C.depths="depths"),C=this.objectLiteral(C),v.push(C),this.push(this.source.functionCall("container.invokePartial","",v))},assignToHash:function(p){var i=this.popStack(),g=void 0,v=void 0,C=void 0;this.trackIds&&(C=this.popStack()),this.stringParams&&(v=this.popStack(),g=this.popStack());var _=this.hash;g&&(_.contexts[p]=g),v&&(_.types[p]=v),C&&(_.ids[p]=C),_.values[p]=i},pushId:function(p,i,g){p==="BlockParam"?this.pushStackLiteral("blockParams["+i[0]+"].path["+i[1]+"]"+(g?" + "+JSON.stringify("."+g):"")):p==="PathExpression"?this.pushString(i):p==="SubExpression"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:u,compileChildren:function(p,i){for(var g=p.children,v=void 0,C=void 0,_=0,y=g.length;_<y;_++){v=g[_],C=new this.compiler;var m=this.matchExistingProgram(v);if(m==null){this.context.programs.push("");var S=this.context.programs.length;v.index=S,v.name="program"+S,this.context.programs[S]=C.compile(v,i,this.context,!this.precompile),this.context.decorators[S]=C.decorators,this.context.environments[S]=v,this.useDepths=this.useDepths||C.useDepths,this.useBlockParams=this.useBlockParams||C.useBlockParams,v.useDepths=this.useDepths,v.useBlockParams=this.useBlockParams}else v.index=m.index,v.name="program"+m.index,this.useDepths=this.useDepths||m.useDepths,this.useBlockParams=this.useBlockParams||m.useBlockParams}},matchExistingProgram:function(p){for(var i=0,g=this.context.environments.length;i<g;i++){var v=this.context.environments[i];if(v&&v.equals(p))return v}},programExpression:function(p){var i=this.environment.children[p],g=[i.index,"data",i.blockParams];return(this.useBlockParams||this.useDepths)&&g.push("blockParams"),this.useDepths&&g.push("depths"),"container.program("+g.join(", ")+")"},useRegister:function(p){this.registers[p]||(this.registers[p]=!0,this.registers.list.push(p))},push:function(p){return p instanceof h||(p=this.source.wrap(p)),this.inlineStack.push(p),p},pushStackLiteral:function(p){this.push(new h(p))},pushSource:function(p){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),p&&this.source.push(p)},replaceStack:function(p){var i=["("],g=void 0,v=void 0,C=void 0;if(!this.isInline())throw new c.default("replaceStack on non-inline");var _=this.popStack(!0);if(_ instanceof h)g=[_.value],i=["(",g],C=!0;else{v=!0;var y=this.incrStack();i=["((",this.push(y)," = ",_,")"],g=this.topStack()}var m=p.call(this,g);C||this.popStack(),v&&this.stackSlot--,this.push(i.concat(m,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var p=this.inlineStack;this.inlineStack=[];for(var i=0,g=p.length;i<g;i++){var v=p[i];if(v instanceof h)this.compileStack.push(v);else{var C=this.incrStack();this.pushSource([C," = ",v,";"]),this.compileStack.push(C)}}},isInline:function(){return this.inlineStack.length},popStack:function(p){var i=this.isInline(),g=(i?this.inlineStack:this.compileStack).pop();if(!p&&g instanceof h)return g.value;if(!i){if(!this.stackSlot)throw new c.default("Invalid stack pop");this.stackSlot--}return g},topStack:function(){var p=this.isInline()?this.inlineStack:this.compileStack,i=p[p.length-1];return i instanceof h?i.value:i},contextName:function(p){return this.useDepths&&p?"depths["+p+"]":"depth"+p},quotedString:function(p){return this.source.quotedString(p)},objectLiteral:function(p){return this.source.objectLiteral(p)},aliasable:function(p){var i=this.aliases[p];return i?(i.referenceCount++,i):(i=this.aliases[p]=this.source.wrap(p),i.aliasable=!0,i.referenceCount=1,i)},setupHelper:function(p,i,g){var v=[],C=this.setupHelperArgs(i,p,v,g),_=this.nameLookup("helpers",i,"helper"),y=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:v,paramsInit:C,name:_,callParams:[y].concat(v)}},setupParams:function(p,i,g){var v={},C=[],_=[],y=[],m=!g,S=void 0;m&&(g=[]),v.name=this.quotedString(p),v.hash=this.popStack(),this.trackIds&&(v.hashIds=this.popStack()),this.stringParams&&(v.hashTypes=this.popStack(),v.hashContexts=this.popStack());var w=this.popStack(),k=this.popStack();(k||w)&&(v.fn=k||"container.noop",v.inverse=w||"container.noop");for(var b=i;b--;)S=this.popStack(),g[b]=S,this.trackIds&&(y[b]=this.popStack()),this.stringParams&&(_[b]=this.popStack(),C[b]=this.popStack());return m&&(v.args=this.source.generateArray(g)),this.trackIds&&(v.ids=this.source.generateArray(y)),this.stringParams&&(v.types=this.source.generateArray(_),v.contexts=this.source.generateArray(C)),this.options.data&&(v.data="data"),this.useBlockParams&&(v.blockParams="blockParams"),v},setupHelperArgs:function(p,i,g,v){var C=this.setupParams(p,i,g);return C.loc=JSON.stringify(this.source.currentLocation),C=this.objectLiteral(C),v?(this.useRegister("options"),g.push("options"),["options=",C]):g?(g.push(C),""):C}},function(){for(var n="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),p=u.RESERVED_WORDS={},i=0,g=n.length;i<g;i++)p[n[i]]=!0}(),u.isValidJavaScriptVariableName=function(n){return!u.RESERVED_WORDS[n]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(n)};function f(n,p,i,g,v){var C=p.popStack(),_=i.length;for(n&&_--;g<_;g++)C=p.nameLookup(C,i[g],v);return n?[p.aliasable("container.strict"),"(",C,", ",p.quotedString(i[g]),", ",JSON.stringify(p.source.currentLocation)," )"]:C}e.default=u,t.exports=e.default})(Ye,Ye.exports);var ts=Ye.exports;(function(t,e){e.__esModule=!0;function r(_){return _&&_.__esModule?_:{default:_}}var o=Sn,l=r(o),c=Ft,d=r(c),a=le,s=ue,h=ts,u=r(h),f=Tt,n=r(f),p=Bt,i=r(p),g=l.default.create;function v(){var _=g();return _.compile=function(y,m){return s.compile(y,m,_)},_.precompile=function(y,m){return s.precompile(y,m,_)},_.AST=d.default,_.Compiler=s.Compiler,_.JavaScriptCompiler=u.default,_.Parser=a.parser,_.parse=a.parse,_.parseWithoutProcessing=a.parseWithoutProcessing,_}var C=v();C.create=v,i.default(C),C.Visitor=n.default,C.default=C,e.default=C,t.exports=e.default})(Oe,Oe.exports);var rs=Oe.exports;const ve=er(rs);class zt{constructor(){P(this,"listeners",{});this.listeners={}}on(e,r){this.listeners[e]?this.listeners[e].push(r):this.listeners[e]=[r]}off(e,r){if(this.listeners[e])this.listeners[e]=this.listeners[e].filter(o=>o!==r);else throw new Error(`Нет события: ${e}`)}emit(e,...r){this.listeners[e]&&this.listeners[e].forEach(o=>o(...r))}}function ns(t,e){return t===e}function Kt(t,e){for(const r in e)if(Object.hasOwnProperty.call(e,r))try{e[r].constructor===Object?e[r]=Kt(t[r],e[r]):t[r]=e[r]}catch{t[r]=e[r]}return t}function ss(t){return typeof t=="object"&&t!==null&&t.constructor===Object&&Object.prototype.toString.call(t)==="[object Object]"}function is(t){return Array.isArray(t)}function Pt(t){return ss(t)||is(t)}function Zt(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const[r,o]of Object.entries(t)){const l=e[r];if(Pt(o)&&Pt(l)){if(Zt(o,l))continue;return!1}if(o!==l)return!1}return!0}function q(t,e){return e?`${t}="${e}"`:""}const as="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let os=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=as[r[t]&63];return e};const N=class N{constructor(e={}){P(this,"id",os(6));P(this,"props");P(this,"children",[]);P(this,"eventBus");P(this,"_element",null);P(this,"setProps",e=>{e&&Object.assign(this.props,e)});const r=new zt;this.props=this._makePropsProxy(e,this),this.eventBus=()=>r,this._registerEvents(r),r.emit(N.EVENTS.INIT)}_addEvents(){const{events:e={}}=this.props;Object.keys(e).forEach(r=>{this._element.addEventListener(r,e[r])})}_removeEvents(){const{events:e={}}=this.props;Object.keys(e).forEach(r=>{var o;(o=this._element)==null||o.removeEventListener(r,e[r])})}_registerEvents(e){e.on(N.EVENTS.INIT,this._init.bind(this)),e.on(N.EVENTS.FLOW_CDM,this._componentDidMount.bind(this)),e.on(N.EVENTS.FLOW_CDU,this._componentDidUpdate.bind(this)),e.on(N.EVENTS.FLOW_RENDER,this._render.bind(this)),e.on(N.EVENTS.FLOW_CWUM,this._componentWillUnmount.bind(this))}_init(){this.init(),this.eventBus().emit(N.EVENTS.FLOW_RENDER)}init(){}_componentDidMount(){this.componentDidMount()}componentDidMount(){}dispatchComponentDidMount(){this.eventBus().emit(N.EVENTS.FLOW_CDM),Object.values(this.children).forEach(e=>e.dispatchComponentDidMount())}_componentWillUnmount(){this.componentWillUnmount(),this._removeEvents()}componentWillUnmount(){this._removeEvents()}_componentDidUpdate(e,r){this.componentDidUpdate(e,r)&&this.eventBus().emit(N.EVENTS.FLOW_RENDER)}componentDidUpdate(e,r){return!Zt(e,r)||!0}get element(){return this._element}_render(){var o;const r=this.compile(this.render(),this.props).firstElementChild;if(this._element&&((o=this._element)==null||o.replaceWith(r)),this._element=r,typeof this.props.className=="string"){const l=this.props.className.split(" ");this._element.classList.add(...l)}this._addEvents()}compile(e,r){var a;const o={...r,__children:[]},l=ve.compile(e)(o),c=document.createElement("template");c.innerHTML=l;const d=c.content;return(a=o.__children)==null||a.forEach(({embed:s})=>{s(d)}),d}render(){return""}getContent(){return this.element}_makePropsProxy(e,r){return new Proxy(e,{get(o,l){const c=o[l];return typeof c=="function"?c.bind(o):c},set(o,l,c){const d={...o};return o[l]=c,r.eventBus().emit(N.EVENTS.FLOW_CDU,d,o),!0},deleteProperty(){throw new Error("Нет доступа")}})}hide(){}show(){var o;const e=document.getElementById("app");e!=null&&e.firstElementChild||e==null||e.append(document.createElement("div"));const r=this.getContent();r&&(e!=null&&e.firstElementChild)&&((o=e==null?void 0:e.firstElementChild)==null||o.replaceWith(r))}};P(N,"EVENTS",{INIT:"init",FLOW_CDM:"flow:component-did-mount",FLOW_CDU:"flow:component-did-update",FLOW_RENDER:"flow:render",FLOW_CWUM:"flow:component-will-unmount"});let x=N;class ls extends x{constructor(e){super({...e,events:{click:e.onClick}})}render(){const{avatarSrc:e}=this.props;return`
            <div class="avatar__container">
                <img src="${e}" alt="Avatar" class="avatar">
                <div class="avatar__overlay">
                    <div class="avatar__text">Поменять аватар</div>
                </div>
            </div>
        `}}class us extends x{constructor(e){super({...e,events:{click:e.onClick}})}render(){const{label:e,disabled:r}=this.props;return`
            <button ${r?"disabled":""}>
                ${e||""}
            </button>
        `}}class cs extends x{constructor(e){super({...e,events:{click:e.onClick}})}render(){return`
            <div>
                <svg class="attach_svg" fill="currentColor" viewBox="0 0 950 950" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M857.7,141.3c-30.1-30.1-65.1-53.5-104.3-69.4c-37.8-15.3-77.7-23.2-118.7-23.2c-40.9,0-80.9,7.7-118.7,22.9 c-39.1,15.8-74.2,38.9-104.3,68.8L73.1,478.3C49.3,501.9,30.9,529.4,18.3,560.2C6.2,589.9,0,621.3,0,653.6 C0,685.7,6.1,717,18.1,746.7c12.4,30.7,30.7,58.2,54.3,81.899c23.6,23.7,51.2,42,81.9,54.5c29.7,12.101,61.1,18.2,93.3,18.2 c32.2,0,63.6-6.1,93.3-18.1c30.8-12.5,58.399-30.8,82.1-54.4l269.101-268c17.3-17.2,30.6-37.3,39.699-59.7 c8.801-21.6,13.2-44.5,13.2-67.899c0-48.2-18.8-93.2-52.899-127c-34-34.2-79.2-53.1-127.301-53.3c-48.199-0.1-93.5,18.6-127.6,52.7 L269.6,473.3c-8.5,8.5-13.1,19.7-13.1,31.601c0,11.899,4.6,23.199,13.1,31.6l0.7,0.7c17.4,17.5,45.8,17.5,63.3,0.1l168-167.5 c35.1-34.8,92.1-35,127.199-0.399c16.9,16.8,26.101,39.3,26.101,63.399c0,24.3-9.4,47.101-26.5,64.101l-269,268 c-0.5,0.5-0.9,0.899-1.2,1.5c-29.7,28.899-68.9,44.699-110.5,44.5c-41.9-0.2-81.2-16.5-110.6-46c-14.7-15-26.1-32.5-34-52 C95.5,694,91.7,674,91.7,653.6c0-41.8,16.1-80.899,45.4-110.3c0.4-0.3,0.7-0.6,1.1-0.899l337.9-337.8c0.3-0.3,0.6-0.7,0.899-1.1 c21.4-21,46.3-37.4,74-48.5c27-10.8,55.4-16.2,84.601-16.2c29.199,0,57.699,5.6,84.6,16.4c27.9,11.3,52.9,27.8,74.3,49.1 c21.4,21.4,37.9,46.4,49.2,74.3c10.9,26.9,16.4,55.4,16.4,84.6c0,29.3-5.5,57.9-16.5,85c-11.301,28-28,53.2-49.5,74.8l-233.5,232.8 c-8.5,8.5-13.2,19.7-13.2,31.7s4.7,23.2,13.1,31.6l0.5,0.5c17.4,17.4,45.8,17.4,63.2,0L857.5,586.9 C887.601,556.8,911,521.7,926.9,482.6C942.3,444.8,950,404.9,950,363.9c0-40.9-7.8-80.8-23.1-118.5 C911.101,206.3,887.8,171.3,857.7,141.3z"></path> </g> </g></svg>
            </div>
        `}}class hs extends x{constructor(e){super({...e,events:{click:e.onClick}})}render(){return`
            <img src="img_girl.jpg" alt="Girl in a jacket" width="500" height="600">
        `}}class ps extends x{constructor(e){super({...e,events:{change:e.onChange,blur:e.onBlur}})}render(){const{className:e,name:r,value:o,type:l,placeholder:c,alt:d,id:a,accept:s}=this.props;return`
            <input
                ${e?'class="'+e:""}"
                ${r?'name="'+r:""}"
                ${a?'id="'+a:""}"
                placeholder="${c||""}"
                value="${o}"
                ${l?'type="'+l:""}"
                ${s?'accept="'+s:""}"
                alt="${d}"
            >
        `}}class ds extends x{constructor(e){super({...e})}render(){return`
            <div>
                <label class="input__container">
                    {{{Input
                        onChange=onChange
                        onBlur=onBlur
                        name=name
                        className=inputClassName
                        type=type
                        placeholder = placeholder
                        value = value
                    }}}
                    <span class="input__label {{#if error}} input__error {{/if}}">{{label}}</span>
                </label>
                {{#if error}}<div class="input__error ">{{error}}</div>{{/if}}
            </div>
        `}}class fs extends x{constructor(e){super({...e,onChange:r=>{e!=null&&e.onChange&&(e==null||e.onChange(r))}})}render(){return`
            <div>
                <label
                  for='file-avatar'
                  class='change-avatar__label'
                  >
                  {{{label}}}
                </label>
                {{{Input
                  id ='file-avatar'
                  className='change-avatar__input'
                  type='file'
                  accept='.jpg, .png, .svg'
                  onChange = onChange
                }}}
            </div>
        `}}class gs extends x{constructor(e){super({...e,chatList:window.store.getState().chats,onButtonChatListClick:()=>{var o;const r=((o=this.props)==null?void 0:o.isPopupAddChatOpen)??!1;this.setProps({...this.props,isPopupAddChatOpen:!r})},onPopUpChatListOkClick:()=>{var o;const r=((o=this.props)==null?void 0:o.isPopupAddChatOpen)??!1;this.setProps({...this.props,isPopupAddChatOpen:!r})},onPopUpChatListCancelClick:()=>{var o;const r=((o=this.props)==null?void 0:o.isPopupAddChatOpen)??!1;this.setProps({...this.props,isPopupAddChatOpen:!r})}})}render(){return`<div class="sidenav">
            <div class="chatlist__header">
                <input type="text" class="input__search" value placeholder="Поиск" name="search">
                {{{Button
                    className = "chatlist__search"
                    onClick = onButtonChatListClick
                }}}
            </div>
            <hr class="nav_divider">
            {{#each chatList  as |chat|}}
                {{{ ChatListItem chat=chat }}}
            {{/each}}
            ${this.props.isPopupAddChatOpen?`{{{PopupAddChat
                    className = "popupAddChat"
                    onOkClick = onPopUpChatListOkClick
                    onCancelClick = onPopUpChatListCancelClick
                }}}`:""}
        </div>`}}class ms extends x{constructor(e){super({...e,events:{click:()=>{var r;window.store.set({currentChatID:((r=this.props)==null?void 0:r.chat).id})}}})}render(){var d,a;const e=this.props.chat,o=window.store.getState().currentChatID===this.props.chat.id?"parent__selected":"parent";let l="";e.last_message&&(e.last_message.user.login===((d=window.store.getState().user)==null?void 0:d.login)?l="Вы: ":l=e.last_message.user.first_name+": ");const c=e.avatar??"src/assets/imgs/img_avatar.png";return`
            <div class="${o}">
                <hr class="nav_divider">
                <div class="parent">
                    <div class="child">
                        <div class="grand-child one">
                            <img src="${c}" alt="Avatar" class="item__avatar">
                        </div>
                        <div class="grand-child two">
                            ${e.title} - ${l}<br>
                            ${(a=e.last_message)!=null&&a.content?e.last_message.content:"[no messages yet]"}
                        </div>
                        <div class="grand-child three">
                            <div class="grand-child-child">${e.last_message?new Date(e.last_message.time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"--:--"}</div>
                            <div class="grand-child-child count">
                                <div class="numberCircle">${e.unread_count>0?e.unread_count:"-"}</div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr class="nav_divider">
            </div>
        `}}class vs extends x{constructor(e){super({...e})}render(){return`
            <div>
                <div>
                    <span class="popup__item__icon">
                        <svg width="24px" height="24px" viewBox="0 0 1024 1024" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M63.9 159v706h896.2V159H63.9z m852.2 662H107.9v-11.6l193.6-193.6 118.8 118.8 11.3 11.3 11.3-11.3 323-323 150.2 150.2V821z m0-281.9L765.9 388.9 431.6 723.3 301.5 593.1 107.9 786.7V203h808.2v336.1z" fill="#1263ba"></path><path d="M306.7 446.9c-43.6 0-79.1-35.5-79.1-79.1s35.5-79.1 79.1-79.1c43.6 0 79.1 35.5 79.1 79.1s-35.5 79.1-79.1 79.1z m0-142.2c-34.8 0-63.1 28.3-63.1 63.1s28.3 63.1 63.1 63.1 63.1-28.3 63.1-63.1-28.3-63.1-63.1-63.1z" fill="#1263ba"></path><path d="M306.3 252.3m-10 0a10 10 0 1 0 20 0 10 10 0 1 0-20 0Z" fill="#1263ba"></path><path d="M248.6 267.9m-10 0a10 10 0 1 0 20 0 10 10 0 1 0-20 0Z" fill="#1263ba"></path><path d="M206.4 310.4m-10 0a10 10 0 1 0 20 0 10 10 0 1 0-20 0Z" fill="#1263ba"></path><path d="M191.1 368.2m-10 0a10 10 0 1 0 20 0 10 10 0 1 0-20 0Z" fill="#1263ba"></path><path d="M206.8 425.9m-10 0a10 10 0 1 0 20 0 10 10 0 1 0-20 0Z" fill="#1263ba"></path><path d="M249.2 468m-10 0a10 10 0 1 0 20 0 10 10 0 1 0-20 0Z" fill="#1263ba"></path><path d="M307 483.3m-10 0a10 10 0 1 0 20 0 10 10 0 1 0-20 0Z" fill="#1263ba"></path><path d="M364.8 467.7m-10 0a10 10 0 1 0 20 0 10 10 0 1 0-20 0Z" fill="#1263ba"></path><path d="M406.9 425.2m-10 0a10 10 0 1 0 20 0 10 10 0 1 0-20 0Z" fill="#1263ba"></path><path d="M422.2 367.4m-10 0a10 10 0 1 0 20 0 10 10 0 1 0-20 0Z" fill="#1263ba"></path><path d="M406.5 309.7m-10 0a10 10 0 1 0 20 0 10 10 0 1 0-20 0Z" fill="#1263ba"></path><path d="M364.1 267.6m-10 0a10 10 0 1 0 20 0 10 10 0 1 0-20 0Z" fill="#1263ba"></path></g></svg>
                    </span>
                    <span class="popup__item__text">Фото или видео</span>
                </div>
                <div>
                    <span class="popup__item__icon">
                        <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M13 3H8.2C7.0799 3 6.51984 3 6.09202 3.21799C5.71569 3.40973 5.40973 3.71569 5.21799 4.09202C5 4.51984 5 5.0799 5 6.2V17.8C5 18.9201 5 19.4802 5.21799 19.908C5.40973 20.2843 5.71569 20.5903 6.09202 20.782C6.51984 21 7.0799 21 8.2 21H12M13 3L19 9M13 3V7.4C13 7.96005 13 8.24008 13.109 8.45399C13.2049 8.64215 13.3578 8.79513 13.546 8.89101C13.7599 9 14.0399 9 14.6 9H19M19 9V11M19.2686 19.2686L21 21M20 17.5C20 18.8807 18.8807 20 17.5 20C16.1193 20 15 18.8807 15 17.5C15 16.1193 16.1193 15 17.5 15C18.8807 15 20 16.1193 20 17.5Z" stroke="#1263ba" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
                    </span>
                    <span class="popup__item__text">Файл</span>
                </div>
                <div>
                    <span class="popup__item__icon">
                        <svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M12 21C15.5 17.4 19 14.1764 19 10.2C19 6.22355 15.866 3 12 3C8.13401 3 5 6.22355 5 10.2C5 14.1764 8.5 17.4 12 21Z" stroke="#1263ba" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>
                    </span>
                    <span class="popup__item__text">Локация</span>
                </div>
            </div>
        `}}class _s extends x{constructor(e){super({...e,onAddUserToChatItemClick:()=>{e.onAddUserToChatItemClick()},onDeleteChatItemClick:()=>{e.onDeleteChatItemClick()}})}render(){return`
            <div>
                <div class="button_container">
                    {{{Button
                        className = "chat__add"
                        onClick = onAddUserToChatItemClick
                    }}}
                    Добавить пользователя
                </div>
                <div class="button_container">
                    {{{Button
                        className = "chat__add chat__delete"
                        onClick = onRemoveUserFromChatItemClick
                    }}}
                    Удалить пользователя
                </div>
                <div class="button_container">
                    {{{Button
                        className = "chat__add chat__delete"
                        onClick = onDeleteChatItemClick
                    }}}
                    Удалить чат
                </div>
            </div>
        `}}const Ss="#app",Cs="https://ya-praktikum.tech/api/v2",Et="https://ya-praktikum.tech/api/v2/resources/",ys="wss://ya-praktikum.tech/ws/chats/";var L=(t=>(t.Signin="/",t.Signup="/sign-up",t.Messenger="/messenger",t.Settings="/settings",t.Page500="/500",t.Page404="/404",t))(L||{});const se={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE"};function ks(t){if(typeof t!="object")throw new Error("Data must be object");const e=Object.keys(t);return e.reduce((r,o,l)=>`${r}${o}=${t[o]}${l<e.length-1?"&":""}`,"?")}class at{constructor(e){P(this,"apiUrl","");P(this,"get",(e,r={})=>this.request(`${this.apiUrl}${e}`,{...r,method:se.GET},r.timeout));P(this,"post",(e,r={})=>this.request(`${this.apiUrl}${e}`,{...r,method:se.POST},r.timeout));P(this,"put",(e,r={})=>this.request(`${this.apiUrl}${e}`,{...r,method:se.PUT},r.timeout));P(this,"delete",(e,r={})=>this.request(`${this.apiUrl}${e}`,{...r,method:se.DELETE},r.timeout));this.apiUrl=`${Cs}${e}`}request(e,r={},o=5e3){const{headers:l={},method:c,data:d}=r;return new Promise(function(a,s){if(!c){s("No method");return}const h=new XMLHttpRequest;h.withCredentials=!0;const u=c===se.GET;h.open(c,u&&d&&!(d instanceof FormData)?`${e}${ks(d)}`:e),Object.keys(l).forEach(f=>{h.setRequestHeader(f,l[f])}),h.onload=function(){var f;(f=h.getResponseHeader("content-type"))!=null&&f.includes("application/json")?a({status:h.status,data:JSON.parse(h.responseText)}):a({status:h.status,data:h.responseText})},h.onabort=s,h.onerror=s,h.timeout=o,h.ontimeout=s,u||!d?h.send():d instanceof FormData?h.send(d):h.send(JSON.stringify(d))})}}class ws{constructor(e="/chats"){P(this,"_authApi");this._authApi=new at(e)}async getChats(e){return this._authApi.get("",{data:e})}async createChat(e){return this._authApi.post("",{headers:{"Content-Type":"application/json"},data:{title:e}})}async deleteChat(e){return this._authApi.delete("",{headers:{"Content-Type":"application/json"},data:{chatId:e}})}async addUsersToChat(e){return this._authApi.put("/users",{headers:{"Content-Type":"application/json"},data:e})}async removeUsersFromChat(e){return this._authApi.delete("/users",{headers:{"Content-Type":"application/json"},data:e})}async getChatUsers(e){return this._authApi.get(`/${e}/users`)}async requestChatToken(e){return this._authApi.post(`/token/${e}`)}async updateChatAvatar(e,r){return e.append("chatId",String(r)),this._authApi.put("/avatar",{data:e})}}class bs{constructor(e,r,o,l){P(this,"SocketStates",["CONNECTING","OPEN","CLOSING","CLOSED"]);P(this,"socket",null);P(this,"init",e=>new WebSocket(e));P(this,"getState",()=>this.socket?this.SocketStates[this.socket.readyState]:this.SocketStates[3]);P(this,"open",e=>{var r;(r=this.socket)==null||r.addEventListener("open",e)});P(this,"close",e=>{var o;const r=l=>{e(l)};(o=this.socket)==null||o.addEventListener("close",r)});P(this,"message",e=>{var o;const r=l=>{e(l)};(o=this.socket)==null||o.addEventListener("message",r)});P(this,"sendMessage",e=>{var o;const r=JSON.stringify({content:e,type:"message"});(o=this.socket)==null||o.send(r)});P(this,"sendFile",e=>{var o;const r=JSON.stringify({content:e,type:"file"});(o=this.socket)==null||o.send(r)});P(this,"sendRequestForOldMessages",(e=0)=>{var o;const r=JSON.stringify({content:String(e),type:"get old"});(o=this.socket)==null||o.send(r)});P(this,"ping",()=>{var e;(e=this.socket)==null||e.send(JSON.stringify({type:"ping"}))});let c=e;r&&(c=c+"/"+r),o&&(c=c+"/"+o),l&&(c=c+"/"+l),this.socket=this.init(c)}error(e){var r;(r=this.socket)==null||r.addEventListener("error",e)}}function Jt(t,e){if(!t.id||!t.users||!t.token||t.connection&&t.connection.getState()==="OPEN"||!e.id)return;const r=new bs(ys,e.id,t.id,t.token);return r.open(()=>{Ps(0,t),setInterval(()=>{r.ping()},15e3)}),r.message(async o=>{let l=null;try{l=JSON.parse(o.data)}catch{console.log("'Unknown message!'")}l&&(l.chat_id=t.id,(l.type==="message"||Array.isArray(l)||l.type==="file")&&(t.messages||(t.messages=[]),Array.isArray(l)?(l.reverse(),t.messages=t.messages.concat(l)):t.messages.push(l),await ee({}),window.store.set({chats:window.store.getState().chats})),o.data.type==="user connected"&&console.log("user connected",o.data))}),t.connection=r,t}function Ps(t,e){if(!e)throw Error("No chat to load messages!");e.connection&&(e.connection.sendRequestForOldMessages(t),e.unread_count=0)}class Es{constructor(e,r,o){P(this,"_pathname");P(this,"_blockClass");P(this,"_block");P(this,"_props");this._pathname=e,this._blockClass=r,this._block=null,this._props=o}get pathname(){return this._pathname}navigate(e){this.match(e)&&(this._pathname=e,this.render())}leave(){var e;this._block&&((e=this._block)==null||e.hide())}match(e){return ns(e,this._pathname)}render(){this._block||(this._block=new this._blockClass(this._props)),this._block.show()}}class Ls{constructor(e="/auth"){P(this,"_authApi");this._authApi=new at(e)}async signup(e){return this._authApi.post("/signup",{headers:{"Content-Type":"application/json"},data:e})}async signin(e){return this._authApi.post("/signin",{headers:{"Content-Type":"application/json"},data:e})}async me(){return this._authApi.get("/user")}async logout(){return this._authApi.post("/logout")}}const _e=new Ls;async function As(t){const e=await _e.signup(t);if(I(e))throw Error(e.data.reason);await ot()}async function Os(t){const e=await _e.signin(t);if(I(e))throw Error(e.data.reason);await ot(),await ee({})}async function ot(){const t=await _e.me();if(I(t))throw Error(t.data.reason);window.store.set({user:t.data})}async function xs(){const t=await _e.logout();if(I(t))throw Error(t.data.reason);window.store.set({user:null})}const Y=class Y{constructor(e){P(this,"routes");P(this,"history");P(this,"_currentRoute");P(this,"_rootQuery");if(Y.__instance)return Y.__instance;this.routes=[],this.history=window.history,this._currentRoute=null,this._rootQuery=e,Y.__instance=this}static getRouter(){return this.__instance}use(e,r,o){const l={...o,rootQuery:this._rootQuery},c=new Es(e,r,l);return this.routes.push(c),this}async start(){window.onpopstate=()=>{var r;this._onRoute((r=window.location)==null?void 0:r.pathname)};const e=window.location.pathname;try{await ot(),await ee({}),e&&e===L.Messenger?this.go(L.Messenger):e&&(e===L.Signin||e===L.Signup)?(alert("You already signed-in! Going to the messenger!"),this.go(L.Messenger)):e&&e===L.Settings?this.go(L.Settings):this.go(L.Page500)}catch{e&&e===L.Signup?this.go(L.Signup):(e&&e!==L.Signin&&alert("You are not signed-in! Signin first!"),this.go(L.Signin));return}}_onRoute(e){const r=this.getRoute(e);r&&(this._currentRoute&&this._currentRoute.leave(),this._currentRoute=r,r.render())}go(e){this.history.pushState({},"",e),this._onRoute(e)}back(){this.history.back()}forward(){this.history.forward()}getRoute(e){return this.routes.find(r=>r.match(e))}currentRoutePathName(){return this._currentRoute?this._currentRoute.pathname:null}};P(Y,"__instance");let D=Y;const I=t=>{switch(t.status){case 200:return!1;case 500:return D.getRouter().go(L.Page500),!1;default:return!0}},z=new ws;async function ee(t){const e=await z.getChats(t);if(I(e))throw Error(e.data.reason);const r=window.store.getState().chats,o=e.data,l=await Promise.all(o.map(async c=>{const d=r.find(a=>c.id===a.id);if(d)return d.users=await Lt(d.id),Kt(d,c);{const a=window.store.getState().user;if(c.token=await Ds(c.id),c.users=await Lt(c.id),a){const s=Jt(c,a);return s||c}else return c}}));window.store.set({chats:l})}async function Ms(t){const e=await z.createChat(t);if(I(e))throw Error(e.data.reason);return e.data}async function Is(t){const e=await z.deleteChat(t);if(I(e))throw Error(e.data.reason)}async function Ns(t){const e=await z.addUsersToChat(t);if(I(e))throw Error(e.data.reason)}async function Rs(t){const e=await z.removeUsersFromChat(t);if(I(e))throw Error(e.data.reason);await ee({})}async function Lt(t){const e=await z.getChatUsers(t);if(I(e))throw Error(e.data.reason);return e.data}async function Ds(t){const e=await z.requestChatToken(t);if(I(e))throw Error(e.data.reason);return e.data.token}class Bs extends x{constructor(e){super({...e,chatTitle:"",onTitleChange:r=>{const o=r.target.value;this.setProps({...this.props,chatTitle:o})},onOkClick:()=>{const r=this.props.chatTitle;r!==null&&Ms(r).then(()=>{ee({}).then().catch(o=>console.log("create chat:",o))}).catch(o=>{alert(`error in creating a chat: ${o}`),console.log("create chat error:",o)}),e.onOkClick()},onCancelClick:()=>{e.onCancelClick()}})}render(){return`<form>
            <div class="popupAddChatTitle">
                <p>Создать новый чат</p>
            </div>
            <div>
                {{{InputField
                    label = "Title нового чата"
                    inputClassName = "input__element"
                    name = "chatTitle"
                    placeholder = " "
                    value = chatTitle
                    onChange = onTitleChange
                }}}
            </div>
            <div>
                {{{Button
                    className = "button-addchat"
                    label = "Создать чат"
                    onClick = onOkClick
                }}}
            </div>
            <div>
                {{{Button
                    className = "button-cancel"
                    label = "Отменить"
                    onClick = onCancelClick
                }}}
            </div>
        </form>`}}class Fs extends x{constructor(e){super({...e,inputFieldValue:(e==null?void 0:e.inputFieldValue)??"",onInputFieldValueChange:r=>{const o=r.target.value;this.setProps({...this.props,inputFieldValue:o})},onOkClick:()=>{e.onOkClick(this.props.inputFieldValue)},onCancelClick:()=>{e.onCancelClick()}})}render(){return`<form>
            <div class="popupUserTitle">
                <p>{{popupTitle}}</p>
            </div>
            <div>
                {{{InputField
                    label = inputFieldLabel
                    inputClassName = "input__element"
                    name = "chatTitle"
                    placeholder = " "
                    value = inputFieldValue
                    onChange = onInputFieldValueChange
                }}}
            </div>
            <div>
                {{{Button
                    className = "button-addchat"
                    label = "OK"
                    onClick = onOkClick
                }}}
            </div>
            <div>
                {{{Button
                    className = "button-cancel"
                    label = "Отменить"
                    onClick = onCancelClick
                }}}
            </div>
        </form>`}}class Ts extends x{constructor(e){const r=window.store.getState(),o=r.currentChatID,l=r.chats.find(c=>c.id===o);super({...e,messages:(l==null?void 0:l.messages)||[]})}render(){return`<div class = "messages__container">
        {{#each messages  as |message|}}
          {{{ ChatMessageItem message=message }}}
        {{/each}}
      </div>`}}class Us extends x{constructor(e){super({...e})}render(){var l;const{message:e}=this.props,r=e.user_id==((l=window.store.getState().user)==null?void 0:l.id),o=e.type==="file";return`
          <div class="message__${r?"user":"counterparty"}__${o?"img":"text"}">
            ${o?'<img src="src/assets/imgs/counterparty_img.jpg" alt="Avatar" class="message_img">':e.content}
            <div class="message__time">
              ${e.is_read?'<svg class="reading_status" viewBox="0 0 512 512"><path fill="currentColor" d="M505 174.8l-39.6-39.6c-9.4-9.4-24.6-9.4-33.9 0L192 374.7 80.6 263.2c-9.4-9.4-24.6-9.4-33.9 0L7 302.9c-9.4 9.4-9.4 24.6 0 34L175 505c9.4 9.4 24.6 9.4 33.9 0l296-296.2c9.4-9.5 9.4-24.7 .1-34zm-324.3 106c6.2 6.3 16.4 6.3 22.6 0l208-208.2c6.2-6.3 6.2-16.4 0-22.6L366.1 4.7c-6.2-6.3-16.4-6.3-22.6 0L192 156.2l-55.4-55.5c-6.2-6.3-16.4-6.3-22.6 0L68.7 146c-6.2 6.3-6.2 16.4 0 22.6l112 112.2z"/></svg>':""}
              ${new Date(e.time).toLocaleTimeString()}
            </div>
          </div>
        `}}const Hs=Object.freeze(Object.defineProperty({__proto__:null,AvatarImg:ls,Button:us,ButtonAttach:cs,ChatList:gs,ChatListItem:ms,ChatMessageItem:Us,ChatMessages:Ts,Img:hs,Input:ps,InputField:ds,InputFieldFile:fs,PopupAddChat:Bs,PopupAttach:vs,PopupChat:_s,PopupUser:Fs},Symbol.toStringTag,{value:"Module"}));class K{constructor(e,r){P(this,"validationFunc");P(this,"errMessage");this.validationFunc=e,this.errMessage=r}validate(e){return(typeof this.validationFunc=="function"?this.validationFunc(e):typeof e=="string"?this.validationFunc.test(e):!1)?"":this.errMessage}}const Qt=new K(new RegExp("^(?=.{3,20})\\d*[a-zA-Z][a-zA-Z\\d_-]*$"),"от 3 до 20 символов, латиница, может содержать цифры, но не состоять из них, без пробелов, без спецсимволов (допустимы дефис и нижнее подчёркивание)!"),X=new K(new RegExp("^(?=.*\\d+.*$)(?=.*[A-Z]+.*$).{8,40}$"),"от 8 до 40 символов, обязательно хотя бы одна заглавная буква и цифра"),Vs=new K(new RegExp("^(?=[A-Z])(?=[а-яА-ЯёЁa-zA-Z]*)(?:(?![\\d+ _$&+,:;=?@#|'<>.^*()%!]).)*$"),"латиница или кириллица, первая буква должна быть заглавной, без пробелов и без цифр, нет спецсимволов (допустим только дефис)!"),qs=new K(new RegExp("^(?=[A-Z])(?=[а-яА-ЯёЁa-zA-Z]*)(?:(?![\\d+ _$&+,:;=?@#|'<>.^*()%!]).)*$"),"латиница или кириллица, первая буква должна быть заглавной, без пробелов и без цифр, нет спецсимволов (допустим только дефис)!"),Gs=new K(new RegExp("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$"),"латиница, может включать цифры и спецсимволы вроде дефиса и подчёркивания, обязательно должна быть «собака» (@) и точка после неё, но перед точкой обязательно должны быть буквы."),Ws=new K(new RegExp("^((8|\\+7)[- ]?)?((\\d{3})?[- ]?)?[\\d- ]{7,10}$"),"от 10 до 15 символов, состоит из цифр, может начинается с плюса"),R=new K(new RegExp("^.+$"),"не должно быть пустым"),js=[{name:"login",label:"Login",validator:Qt,placeholder:""},{name:"password",type:"password",label:"Password",validator:X,placeholder:""}];class zs extends x{constructor(){super({className:"main__login",signInFormValuesState:{login:"",password:""},signInFormErrsState:{loginError:"",passwordError:""},onSignIn:e=>{var o;const r=(o=this.props)==null?void 0:o.signInFormValuesState;Object.values(r).findIndex(l=>l===null)===-1&&Os(r).then(()=>{D.getRouter().go(L.Messenger)}).catch(l=>{if(l.message==="User already in system")alert("Вы уже авторизованы в системе!");else{const c="Чтото пошло не так. Убедитесь что логин / пароль верные!";this.setProps({...this.props,signInFormErrsState:{loginError:c,passwordError:c}})}}),e.preventDefault()},onSignUp:e=>{D.getRouter().go(L.Signup)},inputFields:js,onFieldChange:e=>this.onFieldChange(e)})}onFieldChange(e){this.handleField(e)}handleField(e){const r=e.target,o=r.value,l=r.name,c=this.props.inputFields.find(a=>a.name===l),d=c==null?void 0:c.validator.validate(o);this.setProps({...this.props,signInFormValuesState:{...this.props.signInFormValuesState,[l]:o},signInFormErrsState:{...this.props.signInFormErrsState,[l+"Error"]:d}})}render(){return`
      <main>
        <form class="login-form">
          <h1 class="login__title">Вход</h1>
          ${this.props.inputFields.map(r=>`
      {{{ InputField
        name="${r.name}"
        ${q("type",r.type)}
        inputClassName="input__element"
        label="${r.label}"
        ${q("placeholder",r.placeholder)}
        value="${this.props.signInFormValuesState[r.name]}"
        onChange = onFieldChange
        error = "${this.props.signInFormErrsState[r.name+"Error"]}"
      }}}
    `).join(" ")}
          {{{Button className="button button__primary" label="Войти" onClick = onSignIn }}}
          {{{Button className="button" label="Зарегистрироваться" onClick = onSignUp }}}
        </form>
      </main>
    `}}const $e=[{name:"email",type:"email",label:"Почта",validator:Gs,placeholder:""},{name:"login",label:"Login",validator:Qt,placeholder:""},{name:"first_name",label:"Имя",validator:Vs,placeholder:""},{name:"second_name",label:"Фамилия",validator:qs,placeholder:""},{name:"phone",label:"Телефон",type:"tel",validator:Ws,placeholder:""}],Ks=[{name:"password",type:"password",label:"Пароль",validator:X,placeholder:""},{name:"password1",type:"password",label:"Пароль (ещё раз)",validator:X,placeholder:""}],Zs=$e.concat(Ks);class Js extends x{constructor(e){super({...e,signUpFormValuesState:{login:"",password:"",email:"",first_name:"",second_name:"",phone:"",password1:""},signUpFormErrsState:{loginError:"",passwordError:"",emailError:"",first_nameError:"",second_nameError:"",phoneError:"",password1Error:""},inputFields:Zs,onSignUp:r=>{var l;const o=(l=this.props)==null?void 0:l.signUpFormValuesState;o&&(delete o.password1,As(o).then(()=>{D.getRouter().go(L.Messenger)})),r.preventDefault()},onSignIn:r=>{r.preventDefault(),D.getRouter().go(L.Signin)},onFieldChange:r=>this.onFieldChange(r)})}onFieldChange(e){this.handleField(e)}handleField(e){const r=e.target,o=r.value,l=r.name,c=this.props.inputFields.find(a=>a.name===l),d=c==null?void 0:c.validator.validate(o);this.setProps({...this.props,signUpFormValuesState:{...this.props.signUpFormValuesState,[l]:o},signUpFormErrsState:{...this.props.signUpFormErrsState,[l+"Error"]:d}})}render(){return`
      <main class="main__register">
        <form class="register-form">
            <h1 class="register__title">Регистрация</h1>
            ${this.props.inputFields.map(r=>`
          {{{ InputField
            name="${r.name}"
            ${q("type",r.type)}
            inputClassName="input__element"
            label="${r.label}"
            ${q("placeholder",r.placeholder)}
            value="${this.props.signUpFormValuesState[r.name]??""}"
            onChange = onFieldChange
            error = "${this.props.signUpFormErrsState[r.name+"Error"]??""}"
          }}}
        `).join(" ")}
            {{{ Button
              className = "button button__primary"
              label = "Зарегистрироваться"
              onClick = onSignUp
            }}}
            {{{ Button
              className = "button"
              label = "Войти"
              type = "link"
              onClick = onSignIn
            }}}
        </form>
      </main>
    `}}var lt=(t=>(t.Updated="Updated",t))(lt||{});class Qs extends zt{constructor(r){super();P(this,"state",{});this.state=r,this.set(r)}getState(){return this.state}set(r){const o={...this.state};this.state={...this.state,...r},this.emit("Updated",o,r)}}class Ys{constructor(e="/user"){P(this,"_authApi");this._authApi=new at(e)}async updateProfile(e){return this._authApi.put("/profile",{headers:{"Content-Type":"application/json"},data:e})}async updatePassword(e){return this._authApi.put("/password",{headers:{"Content-Type":"application/json"},data:e})}async updateAvatar(e){return this._authApi.put("/profile/avatar",{data:e})}async searchUserByLogin(e){return this._authApi.post("/search",{headers:{"Content-Type":"application/json"},data:{login:e}})}}const Se=new Ys;async function Xs(t){const e=await Se.updateProfile(t);if(I(e))throw Error(e.data.reason);window.store.set({user:e.data})}async function $s(t){const e=await Se.updatePassword(t);if(I(e))throw Error(e.data.reason)}async function At(t){const e=await Se.searchUserByLogin(t);if(I(e))throw Error(e.data.reason);return e.data}async function ei(t){const e=await Se.updateAvatar(t);if(I(e))throw Error(e.data.reason);window.store.set({user:e.data})}class ti extends x{constructor(e){const r=(e==null?void 0:e.chatList)??window.store.getState().chats,o=window.store.getState().currentChatID;super({...e,message:(e==null?void 0:e.message)??"",messageError:R==null?void 0:R.validate((e==null?void 0:e.message)??""),chatList:r,currentChatID:o,onMessageChange:l=>{const d=l.target.value,a=R==null?void 0:R.validate(d);this.setProps({...this.props,message:d,messageError:a})},onBtnSendMessageClick:()=>{let l=R==null?void 0:R.validate(this.props.message);if(l){alert(`Error! ${l}`);return}const c=window.store.getState().currentChatID,d=window.store.getState().chats.find(s=>s.id==c),a=window.store.getState().user;if(!d)throw Error("Select Chat!");d.connection&&d.connection.getState()==="OPEN"?d.connection.sendMessage(this.props.message):a&&Jt(d,a),l=R==null?void 0:R.validate(""),this.setProps({...this.props,message:"",messageError:l})},onBtnAttachClick:()=>{var c;const l=((c=this.props)==null?void 0:c.isPopupAttachOpen)??!0;this.setProps({...this.props,isPopupAttachOpen:!l})},onBtnChatClick:()=>{var c;const l=((c=this.props)==null?void 0:c.isPopupChatOpen)??!0;this.setProps({...this.props,isPopupChatOpen:!l})},chatPopupMenuItemHandlers:{onAddUserToChatItemClick:()=>{this.setProps({...this.props,isPopupChatOpen:!1,isPopupAddUserOpen:!0})},onRemoveUserFromChatItemClick:()=>{this.setProps({...this.props,isPopupChatOpen:!1,isPopupRemoveUserOpen:!0})},onDeleteChatItemClick:()=>{const l=window.store.getState().currentChatID;l&&Is(l).then(()=>{ee({}).then().catch(c=>console.warn("delete chat:",c))}).catch(c=>console.warn("delete chat:",c)),this.closeChatPopup(),window.store.set({currentChatID:void 0})}},userPopupHandlers:{onAddUserToChat:l=>{l&&At(l).then(c=>{if(!c.length)alert("No users for the login are found. Change login to search users!");else{const d=window.store.getState().currentChatID;Ns({users:c.map(a=>a.id),chatId:d}).then(()=>this.closeUserPopup()).catch(a=>{console.log("add users to chat:",a)})}}).catch(c=>{alert("Something went wrong! Try again!"),console.log("search users:",c)})},onRemoveUserFromChat:l=>{l&&At(l).then(c=>{if(!c.length)alert("No users for the login are found. Change login to search users!");else{const d=window.store.getState().currentChatID;Rs({users:c.map(a=>a.id),chatId:d}).then(()=>this.closeUserPopup()).catch(a=>{console.log("remove users to chat:",a)})}}).catch(c=>{alert("Something went wrong! Try again!"),console.log("onRemoveUserFromChat error:",c)})},onCancelUserPopupClick:()=>{this.closeUserPopup()}}}),window.store.on(lt.Updated,()=>this.handleStoreUpdate())}closeChatPopup(){this.setProps({...this.props,isPopupChatOpen:!1})}closeUserPopup(){this.setProps({...this.props,isPopupAddUserOpen:!1,isPopupRemoveUserOpen:!1})}handleStoreUpdate(){this.setProps({...this.props,chatList:window.store.getState().chats,currentChatID:window.store.getState().currentChatID})}render(){var c;const e=window.store.getState(),r=e.currentChatID,o=(c=e.chats)==null?void 0:c.find(d=>d.id===r);return`
    <main>
      {{{ChatList}}}
      <div class="chat__container">
        {{#if currentChatID}}
          <div class="chat__header">
            <div class="header__avatar">
              <img src="${(o==null?void 0:o.avatar)??"/assets/imgs/img_avatar.png"}" alt="Avatar" class="avatar_img">
            </div>
            <div class="header__author">
              <b>${o==null?void 0:o.title}</b>
            </div>
            <div class="dots__container">
              {{{Button
                className = "button-chat"
                onClick = onBtnChatClick
              }}}
            </div>
          </div>
        {{/if}}

        {{#unless currentChatID}}
            Please, select/add chat from the list on the left
        {{/unless}}

        {{#if currentChatID}}

          {{{ ChatMessages }}}

          <form class="chat__footer">
            {{{ButtonAttach
              onClick = onBtnAttachClick
            }}}
              <div>
                {{{Input
                  name = "message"
                  className = "${this.props.messageError?"input__message input__message_error":"input__message"}"
                  placeholder = "Сообщение"
                  onChange = onMessageChange
                  value = message
                }}}
              </div>
              <div class="button_container">
                {{{Button
                  className = "button-send"
                  onClick = onBtnSendMessageClick
                  ${this.props.messageError?"disabled = 'true'":""}
                }}}
              </div>
          </form>
        {{/if}}

        ${this.props.isPopupChatOpen?`{{{PopupChat
          className = "popupChat"
          onAddUserToChatItemClick = chatPopupMenuItemHandlers.onAddUserToChatItemClick
          onRemoveUserFromChatItemClick = chatPopupMenuItemHandlers.onRemoveUserFromChatItemClick
          onDeleteChatItemClick = chatPopupMenuItemHandlers.onDeleteChatItemClick
        }}}`:""}
        ${this.props.isPopupAddUserOpen?`{{{PopupUser
          className = "popupUser"
          popupTitle = "Add user"
          inputFieldLabel = "User login"
          onOkClick = userPopupHandlers.onAddUserToChat
          onCancelClick = userPopupHandlers.onCancelUserPopupClick
        }}}`:""}
        ${this.props.isPopupRemoveUserOpen?`{{{PopupUser
          className = "popupUser"
          popupTitle = "Remove user"
          inputFieldLabel = "User login"
          onOkClick = userPopupHandlers.onRemoveUserFromChat
          onCancelClick = userPopupHandlers.onCancelUserPopupClick
        }}}`:""}
        ${this.props.isPopupAttachOpen?`{{{PopupAttach
          className = "popup"
        }}}`:""}
      </div>
    </main>
    `}}class Yt extends x{constructor(e){super({...e})}render(){return`
        <main>
            <div class="info__container">
                <h1 class="info__title">${this.props.title}</h1>
                <p class="info__text">${this.props.text}</p>
                {{{ Button label=buttonLabel className="button button__link" onClick=btnClick}}}
            </div>
        </main>
        `}}const Ot=[{name:"oldPassword",type:"password",label:"Старый пароль",validator:X,placeholder:""},{name:"newPassword",type:"password",label:"Новый пароль",validator:X,placeholder:""},{name:"repeatPassword",type:"password",label:"Пароль (ещё раз)",validator:X,placeholder:""}];class ri extends x{constructor(e){const r=window.store.getState().user,o=r!=null&&r.avatar?Et+r.avatar:"/assets/imgs/img_avatar.png";super({...e,user:r,avatar:o,profileFormState:{email:(r==null?void 0:r.email)||"",login:r==null?void 0:r.login,first_name:(r==null?void 0:r.first_name)||"",second_name:(r==null?void 0:r.second_name)||"",phone:(r==null?void 0:r.phone)||""},profileFormStateErrors:{emailError:"",loginError:"",first_nameError:"",second_nameError:"",phoneError:""},pwdFormState:{oldPassword:"",newPassword:"",repeatPassword:""},pwdFormStateErrors:{oldPasswordError:"",newPasswordError:"",repeatPasswordError:""},onBtnBack:l=>{D.getRouter().go(L.Messenger),l.preventDefault()},onAvatarClick:l=>{this.setProps({...this.props,status:"changing-avatar"}),l.preventDefault()},onBtnChangeData:l=>{this.setProps({...this.props,status:"changing-data"}),l.preventDefault()},onBtnChangePwd:l=>{this.setProps({...this.props,status:"changing-pwd"}),l.preventDefault()},onBtnLogout:l=>{xs().then(()=>{D.getRouter().go(L.Signin)}).catch(c=>{console.log(`Err happened while logout: ${c}`)}),l.preventDefault()},onBtnSave:l=>{var c,d,a;if(l.preventDefault(),this.props.status==="changing-data"){const s=(c=this.props)==null?void 0:c.profileFormState;s&&Xs(s).then(()=>this.setProps({...this.props,status:"display"})).catch(h=>console.log("error in updating profile:",h))}if(this.props.status==="changing-pwd"){const s={oldPassword:(d=this.props)==null?void 0:d.pwdFormState.oldPassword,newPassword:(a=this.props)==null?void 0:a.pwdFormState.newPassword};s&&$s(s).then(()=>this.setProps({...this.props,status:"display"})).catch(h=>alert(`Чтото пошло не так! Ошибка - ${h}`))}},onBtnAvatarCancel:l=>{this.setProps({...this.props,status:"display"}),l.preventDefault()},onProfileFieldChange:l=>{const c=l.target,d=c.value,a=c.name,s=$e.find(u=>u.name===a),h=s==null?void 0:s.validator.validate(d);this.setProps({...this.props,profileFormState:{...this.props.profileFormState,[a]:d},profileFormStateErrors:{...this.props.profileFormStateErrors,[a+"Error"]:h}})},onPwdFieldChange:l=>{const c=l.target,d=c.value,a=c.name,s=Ot.find(u=>u.name===a),h=s==null?void 0:s.validator.validate(d);this.setProps({...this.props,pwdFormState:{...this.props.pwdFormState,[a]:d},pwdFormStateErrors:{...this.props.pwdFormStateErrors,[a+"Error"]:h}})},onAvatarFileChange:l=>{var d;const c=(d=l.target)==null?void 0:d.files;if(c){const a=c[0];if(a){const s=new FormData;s.append("avatar",a),ei(s).then(()=>{this.setProps({...this.props,status:"display"})}).catch(h=>console.warn("err while changing user avatar - err =",h))}}l.preventDefault()}}),window.store.on(lt.Updated,()=>this.handleStoreUpdate())}handleStoreUpdate(){var e;this.setProps({...this.props,avatar:(e=window.store.getState().user)!=null&&e.avatar?Et+window.store.getState().user.avatar:"/assets/imgs/img_avatar.png"})}render(){var c,d;const e=this.props.status==="changing-avatar",r=this.props.status==="changing-data"||this.props.status==="changing-pwd",o=$e.map(a=>`
      {{{ InputField
        name="${a.name}"
        ${q("type",a.type)}
        inputClassName="input__element"
        label="${a.label}"
        ${q("placeholder",a.placeholder)}
        value="${this.props.profileFormState[a.name]}"
        onChange = onProfileFieldChange
        error = "${this.props.profileFormStateErrors[a.name+"Error"]??""}"
      }}}
    `).join(" "),l=Ot.map(a=>`
      {{{ InputField
        name="${a.name}"
        ${q("type",a.type)}
        inputClassName="input__element"
        label="${a.label}"
        ${q("placeholder",a.placeholder)}
        value="${this.props.pwdFormState[a.name]}"
        onChange = onPwdFieldChange
        error = "${this.props.pwdFormStateErrors[a.name+"Error"]??""}"
      }}}
    `).join(" ");return`
      <div class="container">
        <div class="sider">
            {{{ Button
              className = "button-back"
              onClick = onBtnBack
            }}}
        </div>
        <section>
            {{{ AvatarImg
              className = "avatar__container"
              avatarSrc = avatar
              onClick = onAvatarClick
            }}}
            <h1 class="profile__title">${(c=this.props.user)==null?void 0:c.first_name}</h1>
            <form class="profile-form" ${this.props.status=="display"&&"inert"} >
              ${this.props.status=="changing-pwd"?l:o}
              ${r?`
                <div>
                  {{{Button
                    className = "button button__primary"
                    label = "Сохранить"
                    onClick = onBtnSave
                  }}}
                </div>
              `:""}
            </form>
            ${r?"":`
              <div>
                {{{Button
                  className = "button button__link"
                  label = "Изменить данные"
                  onClick = onBtnChangeData
                }}}
                {{{Button
                  className = "button button__link"
                  label = "Изменить пароль"
                  onClick = onBtnChangePwd
                }}}
                {{{Button
                  className = "button button__link button__danger"
                  label = "Выйти"
                  onClick = onBtnLogout
                }}}
              </div>
            `}
          </section>
          ${e?`
            <div class="modal">
              <div class="modal-content">
                <h1 class="modal__title">Загрузите файл</h1>

                <img class="change-avatar-img__avatar" src='${((d=this.props)==null?void 0:d.avatar)??"/assets/imgs/img_avatar.png"}' alt="avatar image">

                {{{ InputFieldFile
                  label = "Выберите файл для аватара"
                  onChange = onAvatarFileChange
                }}}
                {{{Button
                  className = "button"
                  label = "Отменить"
                  onClick=onBtnAvatarCancel
                }}}
              </div>
            </div>
            `:""}
      </div>
    `}}function ni(t,e){if(t in ve.helpers)throw`The ${t} component is already registered!`;ve.registerHelper(t,function({hash:r,data:o,fn:l}){const c=new e(r),d=`data-id="${c.id}"`;(o.root.__children=o.root.__children||[]).push({component:c,embed(s){var u;const h=s.querySelector(`[${d}]`);h&&((u=c.getContent())==null||u.append(...Array.from(h.childNodes)),h.replaceWith(c.getContent()))}});const a=l?l(this):"";return`<div ${d}>${a}</div>`})}ve.registerHelper({eq:(t,e)=>t===e,ne:(t,e)=>t!==e,lt:(t,e)=>t<e,gt:(t,e)=>t>e,lte:(t,e)=>t<=e,gte:(t,e)=>t>=e,and(...t){return Array.prototype.every.call(t,Boolean)},or(...t){return Array.prototype.slice.call(t,0,-1).some(Boolean)}});Object.entries(Hs).forEach(([t,e])=>{ni(t,e)});const si={error:null,user:null,currentChatID:void 0,chats:[]};window.store=new Qs(si);const Z=new D(Ss);window.router=Z;Z.use(L.Signin,zs);Z.use(L.Signup,Js);Z.use(L.Messenger,ti);Z.use(L.Settings,ri,{status:"display"});Z.use(L.Page500,Yt,{title:"500",text:"Мы уже фиксим",buttonLabel:"Назад к чатам",btnClick:()=>D.getRouter().go(L.Messenger)});Z.use(L.Page404,Yt,{title:"404",text:"Не туда попали",buttonLabel:"Назад к чатам",btnClick:()=>D.getRouter().go(L.Messenger)}).start();
//# sourceMappingURL=main-b08a90c4.js.map
